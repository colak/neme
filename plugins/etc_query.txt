# Name: etc_query v1.5 
# Type: Public plugin
# 
# Author: Oleg Loukianov
# URL: 
# Recommended load order: 5

# .....................................................................
# This is a plugin for Textpattern CMS - http://textpattern.com/
# To install: textpattern > admin > plugins
# Paste the following text into the 'Install plugin' box:
# .....................................................................

YToxMTp7czo0OiJuYW1lIjtzOjk6ImV0Y19xdWVyeSI7czo2OiJhdXRob3IiO3M6MTQ6Ik9s
ZWcgTG91a2lhbm92IjtzOjEwOiJhdXRob3JfdXJpIjtzOjA6IiI7czo3OiJ2ZXJzaW9uIjtz
OjM6IjEuNSI7czoxMToiZGVzY3JpcHRpb24iO3M6MDoiIjtzOjQ6ImNvZGUiO3M6NDE4NDQ6
Ii8vIFRYUCA0LjcgdGFnIHJlZ2lzdHJhdGlvbg0KaWYgKGNsYXNzX2V4aXN0cygnXFRleHRw
YXR0ZXJuXFRhZ1xSZWdpc3RyeScpKSB7DQoJVHhwOjpnZXQoJ1xUZXh0cGF0dGVyblxUYWdc
UmVnaXN0cnknKS0+cmVnaXN0ZXIoJ2V0Y19xdWVyeScpOw0KCWlmKG1ldGhvZF9leGlzdHMo
J1xUZXh0cGF0dGVyblxUYWdcUmVnaXN0cnknLCAncmVnaXN0ZXJBdHRyJykpDQoJCVR4cDo6
Z2V0KCdcVGV4dHBhdHRlcm5cVGFnXFJlZ2lzdHJ5JyktPnJlZ2lzdGVyQXR0cignZXRjX3Jl
cGxhY2UnLCAnZXRjLXF1ZXJ5LCBldGMtcmVwbGFjZScpLT5yZWdpc3RlckF0dHIoZmFsc2Us
ICdldGMtYnJlYWsnKTsNCn0NCg0KZnVuY3Rpb24gZXRjX3JlcGxhY2UoJGF0dHMsICR0aGlu
ZyA9ICcnKQ0Kew0KCSRhdHRzID0gbEF0dHMoYXJyYXkoDQoJCSdldGMtcXVlcnknID0+ICcu
JywNCgkJJ2V0Yy1yZXBsYWNlJyA9PiAnJywNCgkJJ2V0Yy1icmVhaycgPT4gJycsDQoJKSwg
JGF0dHMsIGZhbHNlKTsNCg0KCSRvdXQgPSB0cmltKCR0aGluZykgIT09ICcnID8gZXRjX3F1
ZXJ5KGFycmF5KCdkYXRhJyA9PiAkdGhpbmcsICdxdWVyeScgPT4gJGF0dHNbJ2V0Yy1xdWVy
eSddLCAncmVwbGFjZScgPT4gJGF0dHNbJ2V0Yy1yZXBsYWNlJ10sICdicmVhaycgPT4gJGF0
dHNbJ2V0Yy1icmVhayddLCAnbWFya3VwJyA9PiAnaHRtbCcsICdnbG9iYWxzJyA9PiAnJywg
J3NwZWNpYWxzJyA9PiAnJywgJ3BhcnNlJyA9PiAnJykpIDogJHRoaW5nOw0KCXJldHVybiAk
b3V0Ow0KfQ0KDQpmdW5jdGlvbiBldGNfcXVlcnkoJGF0dHMsICR0aGluZz0nJykgew0KCSRw
aHAgPSBwaHAoKTsNCg0KCWdsb2JhbCAkZXRjX3F1ZXJ5LCAkZXRjX3F1ZXJ5X2NvbnRleHQs
ICRldGNfcXVlcnlfZ2xvYmFscywgJGV0Y19xdWVyeV9zYW5pdGl6ZSwgJGV0Y19xdWVyeV9z
cGVjaWFsczsNCglpc3NldCgkZXRjX3F1ZXJ5KSBvciAkZXRjX3F1ZXJ5ID0gYXJyYXkoKTsN
Cgkkc2FmZV9jb250ZXh0ID0gaXNzZXQoJGV0Y19xdWVyeV9jb250ZXh0KSA/ICRldGNfcXVl
cnlfY29udGV4dCA6IG51bGw7DQoJJHNhZmVfZ2xvYmFscyA9IGlzc2V0KCRldGNfcXVlcnlf
Z2xvYmFscykgPyAkZXRjX3F1ZXJ5X2dsb2JhbHMgOiBudWxsOw0KCSRzYWZlX3Nhbml0aXpl
ID0gaXNzZXQoJGV0Y19xdWVyeV9zYW5pdGl6ZSkgPyAkZXRjX3F1ZXJ5X3Nhbml0aXplIDog
bnVsbDsNCgkkc2FmZV9zcGVjaWFscyA9IGlzc2V0KCRldGNfcXVlcnlfc3BlY2lhbHMpID8g
JGV0Y19xdWVyeV9zcGVjaWFscyA6IG51bGw7DQoJc3RhdGljICRzYWZlX2RlZmF1bHRzID0g
YXJyYXkoDQoJCSd1cmwnID0+ICcnLA0KCQknY29udGV4dCcgPT4gbnVsbCwNCgkJJ2dsb2Jh
bHMnID0+ICd2YXJpYWJsZSxwcmV0ZXh0LHRoaXNhcnRpY2xlLHRoaXNpbWFnZSx0aGlzZmls
ZSx0aGlzbGluaycsDQoJCSdzYW5pdGl6ZScgPT4gJycsDQoJCSdmdW5jdGlvbnMnID0+ICcn
DQoJKSwNCgkkYXR0c19kZWZhdWx0cyA9IGFycmF5KA0KCQknbmFtZScgPT4gbnVsbCwNCgkJ
J3NhdmUnID0+IG51bGwsDQoJCSdkYXRhJyA9PiBudWxsLA0KCQkndXJsJyA9PiAnJywNCgkJ
J2NvbnRleHQnID0+IG51bGwsDQoJCSdtYXJrdXAnID0+ICcnLA0KCQknZW5jb2RpbmcnID0+
ICdVVEYtOCcsDQovLwkJJ3N0YXJ0JyA9PiAnJywNCgkJJ3F1ZXJ5JyA9PiBudWxsLA0KCQkn
Zm9ybScgPT4gJycsDQoJCSdwb3B1bGF0ZScgPT4gJycsDQovLwkJJ3Rob3JvdWdoJyA9PiAn
JywNCgkJJ3JlcGxhY2UnID0+ICcnLA0KCQknc2VwYXJhdG9yJyA9PiAnOycsDQoJCSdhcmdz
ZXAnID0+ICd8JywNCgkJJ2dsb2JhbHMnID0+ICd2YXJpYWJsZSxwcmV0ZXh0LHRoaXNhcnRp
Y2xlLHRoaXNpbWFnZSx0aGlzZmlsZSx0aGlzbGluaycsDQoJCSdzcGVjaWFscycgPT4gJ2Rh
dGEscXVlcnknLA0KCQknc2FuaXRpemUnID0+ICcnLA0KCQkncGFyc2UnID0+ICdhdXRvJywN
CgkJJ2Z1bmN0aW9ucycgPT4gJycsDQoJCSdsaW1pdCcgPT4gbnVsbCwNCgkJJ29mZnNldCcg
PT4gJzAnLA0KCQknc29ydCcgPT4gJycsDQoJCSdsYWJlbCcgPT4gJycsDQoJCSdsYWJlbHRh
ZycgPT4gJycsDQoJCSd3cmFwdGFnJyA9PiAnJywNCgkJJ2JyZWFrJyA9PiAnJywNCgkJJ2Ns
YXNzJyA9PiAnJywNCgkJJ2h0bWxfaWQnID0+ICcnLA0KCQknZGVidWcnID0+ICcnDQoJKTsN
Cg0KCWV4dHJhY3QobEF0dHMoJGF0dHNfZGVmYXVsdHMsICRwaHAgPyAkYXR0cyA6ICRzYWZl
X2RlZmF1bHRzICsgJGF0dHMpKTsNCg0KCWlmKCRkZWJ1Zykgew0KCQkkZGVidWcgPSBkb19s
aXN0KCRkZWJ1Zyk7DQoJCSRzdGFydHRpbWUgPSBtaWNyb3RpbWUoVFJVRSk7DQoJfQ0KDQoJ
Ly8gR3JhYiB0aGUgZm9ybSBvciBlbWJlZGRlZCAkdGhpbmcNCgkkb2xkVGhpbmcgPSAkdGhp
bmc7DQoJaWYoJGZvcm0gJiYgJGZvcm0gPSBmZXRjaF9mb3JtKCRmb3JtKSkgJHRoaW5nID0g
JGNvbnRlbnQgPSAkZm9ybTsNCgllbHNlICRjb250ZW50ID0gaXNzZXQoJHRoaW5nKSA/IEV2
YWxFbHNlKCR0aGluZywgMSkgOiAnJzsNCg0KCSRub2RhdGEgPSAhJHVybCAmJiAoJGRhdGEg
PT09IG51bGwpOw0KCWxpc3QoJGVuY29kaW5nLCAkZW5jX2Zyb20pID0gZXhwbG9kZSgnOics
ICRlbmNvZGluZykgKyBhcnJheShudWxsLCBudWxsKTsNCg0KCSRldGNfcXVlcnlfY29udGV4
dCA9IGFycmF5KCdhcmdzZXAnPT4kYXJnc2VwLCAnZW5jb2RpbmcnPT4kZW5jb2RpbmcsICdm
dW5jdGlvbnMnPT4nJywgJ3N0cmlwJz0+YXJyYXkoJ19DT09LSUUnLCAnX0dFVCcsICdfUE9T
VCcsICdfUkVRVUVTVCcpLCAncGhwJz0+JHBocCk7DQoNCgkkZXRjX3F1ZXJ5X2dsb2JhbHMg
PSAkZ2xvYmFscyA/IGRvX2xpc3QoJGdsb2JhbHMpIDogZmFsc2U7DQoJJHNwZWNpYWxjaGFy
cyA9IGlzX2NhbGxhYmxlKCd0eHBzcGVjaWFsY2hhcnMnKSA/ICd0eHBzcGVjaWFsY2hhcnMn
IDogJ2h0bWxzcGVjaWFsY2hhcnMnOw0KCSRldGNfcXVlcnlfc2FuaXRpemUgPSBhcnJheV9m
aWxsX2tleXMoJGV0Y19xdWVyeV9jb250ZXh0WydzdHJpcCddLCAkc3BlY2lhbGNoYXJzKTsN
CglpZigkc2FuaXRpemUpIGZvcmVhY2goZG9fbGlzdCgkc2FuaXRpemUpIGFzICRpdGVtKSB7
DQoJCWxpc3QoJGtleSwgJHZhbCkgPSBleHBsb2RlKCc6JywgJGl0ZW0sIDIpICsgYXJyYXko
bnVsbCwgbnVsbCk7DQoJCWlmKCFpc3NldCgkdmFsKSkgJGV0Y19xdWVyeV9zYW5pdGl6ZVsk
a2V5XSA9ICRzcGVjaWFsY2hhcnM7DQoJCWVsc2VpZighJHZhbCB8fCBpc19jYWxsYWJsZSgk
dmFsKSkgJGV0Y19xdWVyeV9zYW5pdGl6ZVska2V5XSA9ICR2YWw7DQoJfQ0KLy8JJGV0Y19x
dWVyeV9zYW5pdGl6ZSA9ICRzYW5pdGl6ZSA/IGFycmF5X2ZpbGxfa2V5cyhkb19saXN0KCRz
YW5pdGl6ZSksIHRydWUpIDogbnVsbDsNCg0KCWlmKCRzcGVjaWFscykgZm9yZWFjaChkb19s
aXN0KCRzcGVjaWFscykgYXMgJHNwZWNpYWwpIGlmKCFlbXB0eSgkJHNwZWNpYWwpKSB7DQoJ
CSQkc3BlY2lhbCA9IHByZWdfcmVwbGFjZV9jYWxsYmFjayhFVENfUFJFR19TUEVDLCAnZXRj
X3BhcnNlX3ZhcmlhYmxlJywgJCRzcGVjaWFsKTsNCgl9DQoNCglpZigkZnVuY3Rpb25zKSB7
DQoJCSRmdW5jdGlvbnMgPSBkb19saXN0KCRmdW5jdGlvbnMpOw0KCQkkZnVuYyA9IGltcGxv
ZGUoJ3wnLCAkZnVuY3Rpb25zKTsNCgkJaWYoJHF1ZXJ5KSAkcXVlcnkgPSBwcmVnX3JlcGxh
Y2UoJy9cYignLiRmdW5jLicpXHMqXCgvJywgInBocDpmdW5jdGlvbignJDEnLCIsICRxdWVy
eSk7DQoJfQ0KCSRldGNfcXVlcnlfY29udGV4dFsnZnVuY3Rpb25zJ10gPSAkZnVuY3Rpb25z
ID8gJGZ1bmMgOiAnJzsNCg0KCWlmKCRtYXJrdXAgIT09ICdkYXRhJykgJGxvYWRlZCA9IGZh
bHNlOw0KCWVsc2VpZigkZGF0YSAmJiBpc3NldCgkZXRjX3F1ZXJ5WyRkYXRhXSkpIHsNCgkJ
JG1hcmt1cCA9ICRldGNfcXVlcnlbJGRhdGFdLT5tYXJrdXA7DQoJCWlmKGlzc2V0KCRldGNf
cXVlcnlbJGRhdGFdLT5kb20pKSAkZG9tID0gJiRldGNfcXVlcnlbJGRhdGFdLT5kb207DQoJ
CWlmKGlzc2V0KCRldGNfcXVlcnlbJGRhdGFdLT5kYXRhKSkgJGRhdGEgPSAmJGV0Y19xdWVy
eVskZGF0YV0tPmRhdGE7DQoJCSRsb2FkZWQgPSB0cnVlOw0KCX0gZWxzZSAkZGF0YSA9ICcn
Ow0KDQoJaWYoJGRhdGEgPT09ICcnIHx8ICRxdWVyeSA9PT0gJycpIHJldHVybiBldGNfY2xl
YW51cChwYXJzZSgkb2xkVGhpbmcsIGZhbHNlKSwgJHNhZmVfY29udGV4dCwgJHNhZmVfZ2xv
YmFscywgJHNhZmVfc2FuaXRpemUsICRzYWZlX3NwZWNpYWxzKTsNCg0KCWlmKCRjb250ZW50
ICE9PSAnJykgew0KCQlpZigkcGFyc2UgPT09ICdhdXRvJykgJHBhcnNlID0gKHN0cnBvcygk
Y29udGVudCwgJzx0eHA6JykgIT09IGZhbHNlID8gJ2FmdGVyJyA6ICcnKTsNCgkJZWxzZWlm
KCRwYXJzZSA9PT0gJ2JlZm9yZScgfHwgJHBhcnNlID09PSAnYm90aCcpICRjb250ZW50ID0g
cGFyc2UoJGNvbnRlbnQpOw0KCQlpZihzdHJwb3MoJGNvbnRlbnQsICc8eHNsOicpICE9PSBm
YWxzZSkgeyR4Y29udGVudCA9ICRjb250ZW50OyAkY29udGVudCA9ICcnO30NCgl9DQoJJHBh
cnNlID0gKCRwYXJzZSA9PT0gJ2FmdGVyJyB8fCAkcGFyc2UgPT09ICdib3RoJyk7DQoNCglp
ZighZW1wdHkoJHBvcHVsYXRlKSkgew0KCQlnbG9iYWwgJHsndGhpcycuJHBvcHVsYXRlfTsN
CgkJJHRoaXNwb3B1bGF0ZSA9IGlzc2V0KCR7J3RoaXMnLiRwb3B1bGF0ZX0pID8gJHsndGhp
cycuJHBvcHVsYXRlfSA6IG51bGw7DQoJCSRmb3JtYXRfaW5mbyA9ICRwb3B1bGF0ZS4oJHBv
cHVsYXRlID09PSAnZmlsZScgPyAnX2Rvd25sb2FkJyA6ICcnKS4nX2Zvcm1hdF9pbmZvJzsN
CgkJaWYoJHBvcHVsYXRlID09PSAnYXJ0aWNsZScpICRjb2x1bW5fbWFwID0gYXJ0aWNsZV9j
b2x1bW5fbWFwKCk7DQoJfQ0KDQoJJG1hcmt1cHMgPSBkb19saXN0KCRtYXJrdXApOw0KCSRt
YXJrdXAgPSBhcnJheV9wb3AoJG1hcmt1cHMpOw0KCWlmKGVtcHR5KCRtYXJrdXApKSB7DQoJ
CWlmKCRkYXRhID09PSBudWxsKSAkbWFya3VwID0gJHVybCA/ICcnIDogKCRxdWVyeSAhPT0g
bnVsbCAmJiAkcXVlcnlbMF0gIT09ICckJyA/ICd4bWwnIDogJ3JhdycpOw0KCQllbHNlICRt
YXJrdXAgPSAoc3RydG9sb3dlcihzdWJzdHIoJGRhdGEsIDAsIDcpKSA9PT0gJ3NlbGVjdCAn
ID8gJ2RiJyA6ICgkZGF0YVswXSA9PT0gJ1snIHx8ICRkYXRhWzBdID09PSAneycgJiYgKCRk
YXRhWzFdID09PSAnIicgfHwgJGRhdGFbMV0gPT09ICcgJykgPyAnanNvbicgOiAoJHVybCB8
fCAkcmVwbGFjZSB8fCBzdHJwb3MoJGRhdGEsICc8JykgIT09IGZhbHNlID8gJ2h0bWwnIDog
J3JhdycpKSk7DQoJfSBlbHNlIHsNCgkJbGlzdCgkbWFya3VwLCAkcGZ4KSA9IGV4cGxvZGUo
JzonLCAkbWFya3VwLCAyKSArIGFycmF5KG51bGwsIG51bGwpOw0KCQlpZihzdWJzdHIoJG1h
cmt1cCwgLTEpID09PSAnKicpIHskY2RhdGEgPSB0cnVlOyAkbWFya3VwID0gc3Vic3RyKCRt
YXJrdXAsIDAsIC0xKTt9DQoJfQ0KCSRtYXJrdXBzW10gPSAkbWFya3VwLihpc3NldCgkcGZ4
KSA/ICc6Jy4kcGZ4IDogJycpOw0KDQoJJGZsYXQgPSAoJG1hcmt1cCAhPT0gJ2h0bWwnICYm
ICRtYXJrdXAgIT09ICd4bWwnICYmICEkcmVwbGFjZSAmJiAhaXNzZXQoJHhjb250ZW50KSk7
Ly9hcnJheSBtb2RlDQoJJHF1ZXJ5X2FycmF5ID0gbnVsbDsvL2FycmF5KCk7DQoJJHF1ZXJ5
c29ydCA9IGFycmF5KCk7DQoJaWYoJGZsYXQpIGlmKCRxdWVyeSAhPT0gbnVsbCkgDQoJew0K
CQlpZigkcXVlcnlbMF0gPT09ICckJykgew0KCQkJaWYoJG5vZGF0YSkgJGRhdGEgPSAkY29u
dGVudDsNCgkJCSRjb250ZW50ID0gJ3snLiRxdWVyeS4nfSc7DQoJCQkkcXVlcnkgPSAnLic7
ICRxdWVyeV9hcnJheSA9IGFycmF5KCk7DQoJCX0gZWxzZSB7DQoJCQkkcXVlcnlfYXJyYXkg
PSBldGNfcGFyc2VfeHBhdGgoJHF1ZXJ5Lic/JywgJGZsYXQpOw0KCQkJaWYoaXNzZXQoJHF1
ZXJ5X2FycmF5WydhcnJheSddKSkgJHF1ZXJ5X2FycmF5ID0gJHF1ZXJ5X2FycmF5WydhcnJh
eSddOw0KCQl9DQoJfQ0KCWVsc2VpZigkbWFya3VwID09PSAnZGInKQ0KCQlpZigkY29udGVu
dCA9PT0gJycpIHskcXVlcnkgPSAnKi8qJzsgJHF1ZXJ5X2FycmF5ID0gYXJyYXkoJyonLCAn
KicpO30NCg0KCWlmKCRldGNfcXVlcnlfZ2xvYmFscyAmJiBzdHJwb3MoJGNvbnRlbnQuJHJl
cGxhY2UsICd7PycpID09PSBmYWxzZSAmJiBzdHJwb3MoJGNvbnRlbnQuJHJlcGxhY2UsICd7
IScpID09PSBmYWxzZSkgJGV0Y19xdWVyeV9nbG9iYWxzID0gZmFsc2U7DQoJaWYoJGNvbnRl
bnQgIT09ICcnKSAkY29udGVudHMgPSBldGNfcGFyc2Vfc3RyaW5nKCRjb250ZW50LCAkZmxh
dCk7DQoJZWxzZWlmKCR0aGluZykgJGNvbnRlbnRzID0gYXJyYXkoJ3RleHQnID0+ICcnKTsN
CgllbHNlICRjb250ZW50cyA9IGFycmF5KCk7DQoNCglpZigkcmVwbGFjZSkgaWYoc3RycG9z
KCRyZXBsYWNlLCAnPHhzbDonKSAhPT0gZmFsc2UpIHskeHJlcGxhY2UgPSAkcmVwbGFjZTsg
JHJlcGxhY2UgPSAnJzt9DQoJZWxzZSB7DQoJCSRyZXBsYWNlX2FycmF5ID0gYXJyYXkoKTsN
CgkJZm9yZWFjaChkb19saXN0KCRyZXBsYWNlLCAkc2VwYXJhdG9yKSBhcyAkcGF0KSBpZigk
cGF0ICE9PSAnJykgew0KCQkJJHJlcGxhY2VfYXJyYXlbXSA9IGV0Y19wYXJzZV94cGF0aCgk
cGF0LCAkZmxhdCk7DQoJCX0NCgkJaWYoJGRlYnVnICYmIGluX2FycmF5KCdyJywgJGRlYnVn
KSkge2VjaG8gJ1JFUExBQ0UnOyBkbXAoJHJlcGxhY2VfYXJyYXkpO30NCgl9DQoNCglpZigh
JGxvYWRlZCkgew0KCQlpZigkdXJsKSANCgkJCWlmKCRtYXJrdXAgPT09ICdsZGFwJykgew0K
CQkJCSRsZGFwY29ubiA9IGxkYXBfY29ubmVjdCgkdXJsKTsNCi8vCQkJCWxkYXBfc2V0X29w
dGlvbigkbGRhcGNvbm4sIExEQVBfT1BUX1BST1RPQ09MX1ZFUlNJT04sIDMpOw0KCQkJCWlm
KCRsZGFwY29ubikNCgkJCQl7DQoJCQkJCWxpc3QoJGxkYXByZG4sICRsZGFwZmlsdGVyLCAk
bGRhcG9ubHkpID0gZG9fbGlzdCgkZGF0YSwgJzsnKSArIGFycmF5KG51bGwsICdvYmplY3RD
bGFzcz0qJywgbnVsbCk7DQoJCQkJCSRsZGFwb25seSA9ICghZW1wdHkoJGxkYXBvbmx5KSA/
IGRvX2xpc3QoJGxkYXBvbmx5KSA6IGFycmF5KCkpOw0KCQkJCQkkZGF0YSA9IGxkYXBfc2Vh
cmNoKCRsZGFwY29ubiwgJGxkYXByZG4sICRsZGFwZmlsdGVyLCAkbGRhcG9ubHkpOw0KCQkJ
CQkkZGF0YSA9IGxkYXBfZ2V0X2VudHJpZXMoJGxkYXBjb25uLCAkZGF0YSk7DQoJCQkJCWxk
YXBfY2xvc2UoJGxkYXBjb25uKTsNCgkJCQl9DQoJCQkJZWxzZSAkZGF0YSA9IG51bGw7DQoJ
CQl9IGVsc2VpZigkbWFya3VwICE9PSAnZGInKSB7DQoJCQkJJGNvbnRleHQgPSAkY29udGV4
dCA/IHN0cmVhbV9jb250ZXh0X2NyZWF0ZShqc29uX2RlY29kZSgkY29udGV4dCwgdHJ1ZSkp
IDogbnVsbDsNCgkJCQkkZGF0YSA9IGZpbGVfZ2V0X2NvbnRlbnRzKCR1cmwsIGZhbHNlLCAk
Y29udGV4dCk7DQoJCQkJaWYoIWVtcHR5KCRodHRwX3Jlc3BvbnNlX2hlYWRlcikpIGZvcmVh
Y2goJGh0dHBfcmVzcG9uc2VfaGVhZGVyIGFzICRoZWFkZXIpIGlmKHByZWdfbWF0Y2goJy9e
Q29udGVudFwtVHlwZVw6KC4qKS9pJywgJGhlYWRlciwgJG1hdGNoZXMpKSB7DQoJCQkJCWxp
c3QoJG1pbWUsICRvcHQpID0gZXhwbG9kZSgnOycsICRtYXRjaGVzWzFdKSArIGFycmF5KG51
bGwsIG51bGwpOw0KCQkJCQlsaXN0KCR0eXBlLCAkc3VidHlwZSkgPSBleHBsb2RlKCcvJywg
c3RydG9sb3dlcih0cmltKCRtaW1lKSkpICsgYXJyYXkobnVsbCwgbnVsbCk7DQoJCQkJCWlm
KCEkbWFya3VwICYmIGluX2FycmF5KCRzdWJ0eXBlLCBhcnJheSgnanNvbicsICdodG1sJywg
J3htbCcpKSkgJG1hcmt1cCA9ICRzdWJ0eXBlOw0KCQkJCQlpZihwcmVnX21hdGNoKCcvXGJj
aGFyc2V0PShbXHdcLSNdKykvaScsICRvcHQsICRtYXRjaGVzKSkgJGVuYyA9IHN0cnRvdXBw
ZXIoJG1hdGNoZXNbMV0pOw0KCQkJCQlicmVhazsNCgkJCQl9DQoJCQkJaWYoJGVuY29kaW5n
ICYmICRkYXRhKSB7DQoJCQkJCSRlbmNvZGluZyA9IHN0cnRvdXBwZXIoJGVuY29kaW5nKTsN
CgkJCQkJaWYoaXNzZXQoJGVuY19mcm9tKSAmJiAkZW5jX2Zyb20gIT09ICcqJykgJGVuYyA9
IHN0cnRvdXBwZXIoJGVuY19mcm9tKTsNCgkJCQkJZWxzZWlmKCFpc3NldCgkZW5jKSAmJiBw
cmVnX21hdGNoKCcvPG1ldGFcYltePl0rXGJjaGFyc2V0PSI/KFtcd1wtI10rKSI/W14+XSo+
L2knLCAkZGF0YSwgJG1hdGNoZXMpKSAkZW5jID0gc3RydG91cHBlcigkbWF0Y2hlc1sxXSk7
DQoJCQkJCWlmKGlzX2NhbGxhYmxlKCdtYl9kZXRlY3RfZW5jb2RpbmcnKSkgew0KCQkJCQkJ
aWYoIWlzc2V0KCRlbmMpKSAkZW5jID0gc3RydG91cHBlcihtYl9kZXRlY3RfZW5jb2Rpbmco
JGRhdGEpKTsgLy9lbHNlIGRtcCgkZW5jKTsNCgkJCQkJCSRtYl9lbmNvZGluZ3MgPSAkZW5j
ID8gYXJyYXlfbWFwKCdzdHJ0b3VwcGVyJywgbWJfbGlzdF9lbmNvZGluZ3MoKSkgOiBhcnJh
eSgpOw0KCQkJCQkJJG1iX2VuY29kaW5ncyA9IGluX2FycmF5KCRlbmNvZGluZywgJG1iX2Vu
Y29kaW5ncykgJiYgaW5fYXJyYXkoJGVuYywgJG1iX2VuY29kaW5ncyk7DQoJCQkJCX0NCgkJ
CQkJZWxzZSAkbWJfZW5jb2RpbmdzID0gZmFsc2U7DQoJCQkJCWlmKCRlbmMgJiYgKCRlbmMg
IT09ICRlbmNvZGluZyB8fCBpc3NldCgkZW5jX2Zyb20pKSkNCgkJCQkJCWlmKCRtYl9lbmNv
ZGluZ3MpICRkYXRhID0gbWJfY29udmVydF9lbmNvZGluZygkZGF0YSwgJGVuY29kaW5nLCAk
ZW5jKTsNCgkJCQkJCWVsc2VpZihpc19jYWxsYWJsZSgnaWNvbnYnKSkgJGRhdGEgPSBpY29u
digkZW5jLCAkZW5jb2RpbmcuJy8vSUdOT1JFJywgJGRhdGEpOw0KCQkJCX0NCgkJCX0NCg0K
CQlpZighJG1hcmt1cCkgJG1hcmt1cCA9ICdodG1sJzsNCgkJZWxzZWlmKCFldGNfcXVlcnlf
aW1wb3J0KCRkYXRhLCAkbWFya3VwcywgY29tcGFjdCgndXJsJywgJ3BvcHVsYXRlJywgJ3Bo
cCcpKSkNCgkJCXJldHVybiBldGNfY2xlYW51cChwYXJzZSgkb2xkVGhpbmcsIGZhbHNlKSwg
JHNhZmVfY29udGV4dCwgJHNhZmVfZ2xvYmFscywgJHNhZmVfc2FuaXRpemUsICRzYWZlX3Nw
ZWNpYWxzKTsNCgl9IGVsc2VpZighJGZsYXQgJiYgIWlzc2V0KCRkb20pKSB7JGxvYWRlZCA9
IGZhbHNlO30NCg0KCWlmICgoc3RyaW5nKSRzb3J0ICE9PSAnJyAmJiAkZGF0YSAmJiBpc19h
cnJheSgkZGF0YSkpDQoJCWlmKCRzb3J0ID09PSB0cnVlKSBhc29ydCgkZGF0YSk7DQoJCWVs
c2UgZm9yZWFjaChkb19saXN0KCRzb3J0KSBhcyAkc29ydCkgew0KCQkJaWYoc3Vic3RyKCRz
b3J0LCAwLCAxKSA9PT0gJy4nKSAkcXVlcnlzb3J0W10gPSAkc29ydCA9PT0gJy4nID8gdHJ1
ZSA6IHN1YnN0cigkc29ydCwgMSk7DQoJCQllbHNlIGV0Y19xdWVyeV9zb3J0KCRkYXRhLCAk
c29ydCk7DQoJCX0NCg0KCSRpc19odG1sID0gJG1hcmt1cCA9PT0gJ2h0bWwnOw0KCSRpc194
bWwgPSAkbWFya3VwID09PSAneG1sJzsNCgkkZmxhdCA9ICRmbGF0ICYmICEkaXNfaHRtbCAm
JiAhJGlzX3htbDsNCg0KCWlmKCRkZWJ1Zykgew0KCQkkZW5kdGltZSA9IG1pY3JvdGltZShU
UlVFKTsNCgkJZG1wKCJQcmVsb2FkZWQgaW4gIiAuICgkZW5kdGltZSAtICRzdGFydHRpbWUp
IC4gIiBzZWNvbmRzLlxuIik7DQoJCSRzdGFydHRpbWUgPSBtaWNyb3RpbWUoVFJVRSk7DQoJ
fQ0KDQoJaWYoISRub2RhdGEgJiYgZW1wdHkoJGRhdGEpKSAkcm9vdHMgPSBudWxsOw0KCWVs
c2VpZigkZmxhdCkgew0KCQkkcm9vdHMgPSBhcnJheSgkZGF0YSA/ICRkYXRhIDogJycpOyAk
eHBhdGggPSBudWxsOw0KCX0gZWxzZSB7DQoJCWlmICghJGlzX2h0bWwgJiYgISRpc194bWwp
IHVuc2V0KCRwZngpOw0KCQllbHNlaWYoISRsb2FkZWQgJiYgISRub2RhdGEpICRkYXRhID0g
ZXRjX3F1ZXJ5X3JlZHVjZSgkZGF0YSk7DQoJCWlmKCEkbG9hZGVkKSB7DQoJCQkvKioqIGxv
YWQgdGhlIGRhdGEgaW50byBhIG5ldyBkb20gb2JqZWN0ICoqKi8NCgkJCSRkb20gPSBuZXcg
RE9NRG9jdW1lbnQ7DQoJCQkkZG9tLT5wcmVzZXJ2ZVdoaXRlU3BhY2UgPSBmYWxzZTsNCgkJ
CSRkb20tPnN0cmljdEVycm9yQ2hlY2tpbmcgPSBmYWxzZTsNCgkJCSRkb20tPmVuY29kaW5n
ID0gJGVuY29kaW5nOw0KCQkJaWYoISRkZWJ1ZykgbGlieG1sX3VzZV9pbnRlcm5hbF9lcnJv
cnModHJ1ZSk7DQoNCgkJCWlmKGlzc2V0KCRjZGF0YSkgJiYgJGRhdGEpICRkYXRhID0gc3Ry
X2lyZXBsYWNlKGFycmF5KCc8IVtDREFUQVsnLCAnXV0+JyksICc8IS0tLS0+JywgJGRhdGEp
Ow0KCQkJaWYoaXNzZXQoJHBmeCkgJiYgJHBmeCA9PT0gJycpICRkYXRhID0gc3RyX3JlcGxh
Y2UoJyB4bWxucz0nLCAnIGV0Y25zPScsICRkYXRhKTsNCg0KCQkJaWYoJGlzX2h0bWwpIHsN
Ci8vCQkJCWlmKCR1cmwpICRkb20tPmxvYWRIVE1MKHByZWdfcmVwbGFjZSgnLzxoZWFkLio+
L1VzaScsICdcXDA8bWV0YSBodHRwLWVxdWl2PSJjb250ZW50LXR5cGUiIGNvbnRlbnQ9InRl
eHQvaHRtbDsgY2hhcnNldD0nIC4gJGVuY29kaW5nIC4gJyI+JywgJGRhdGEpKTsNCgkJCQlp
ZigkdXJsKSAkZG9tLT5sb2FkSFRNTCgnPG1ldGEgaHR0cC1lcXVpdj0iY29udGVudC10eXBl
IiBjb250ZW50PSJ0ZXh0L2h0bWw7IGNoYXJzZXQ9JyAuICRlbmNvZGluZyAuICciPicgLiAk
ZGF0YSk7DQoJCQkJZWxzZSAkZG9tLT5sb2FkSFRNTCgnPD94bWwgZW5jb2Rpbmc9IicuJGVu
Y29kaW5nLiciPicuJGRhdGEpOw0KCQkJfQ0KCQkJZWxzZWlmKCRpc194bWwpIHtpZighJG5v
ZGF0YSkgJGRvbS0+bG9hZFhNTCgkZGF0YSwgTElCWE1MX0NPTVBBQ1QpO30NCgkJCWVsc2Vp
ZigkZGF0YSkgaWYoIWlzX2FycmF5KCRkYXRhKSAmJiAhaXNfb2JqZWN0KCRkYXRhKSkgJGRv
bS0+YXBwZW5kQ2hpbGQoJGRvbS0+Y3JlYXRlRWxlbWVudCgncm9vdCcsIChzdHJpbmcpJGRh
dGEpKTsgZWxzZSB7DQoJCQkJZm9yZWFjaCAoJGRhdGEgYXMgJGtleSA9PiAkdmFsKSAkZG9t
LT5hcHBlbmRDaGlsZChldGNfY3JlYXRlX2VsZW1lbnQoJGtleSwgJHZhbCwgJGRvbSkpOw0K
CQkJCSRpc194bWwgPSB0cnVlOw0KCQkJfQ0KCQl9DQoNCgkJaWYoKGlzc2V0KCR4Y29udGVu
dCkgfHwgaXNzZXQoJHhyZXBsYWNlKSkgJiYgY2xhc3NfZXhpc3RzKCdYU0xUUHJvY2Vzc29y
JykpIHsNCgkJCSR4c2x0ID0gbmV3IERPTURvY3VtZW50Ow0KCQkJJHByb2MgPSBuZXcgWFNM
VFByb2Nlc3NvcjsNCgkJCWlmKCRmdW5jdGlvbnMpICRwcm9jLT5yZWdpc3RlclBIUEZ1bmN0
aW9ucygkZnVuY3Rpb25zKTsNCgkJCWlmKGlzc2V0KCR4cmVwbGFjZSkpIHsNCgkJCQkkeHNs
dC0+bG9hZFhNTCgkeHJlcGxhY2UpOw0KCQkJCSRwcm9jLT5pbXBvcnRTdHlsZVNoZWV0KCR4
c2x0KTsNCgkJCQkkZG9tID0gJHByb2MtPnRyYW5zZm9ybVRvRG9jKCRkb20pOw0KCQkJfQ0K
CQkJaWYoaXNzZXQoJHhjb250ZW50KSkgew0KCQkJCSR4c2x0LT5sb2FkWE1MKCR4Y29udGVu
dCk7DQoJCQkJJHByb2MtPmltcG9ydFN0eWxlU2hlZXQoJHhzbHQpOw0KCQkJCWlmKCRzYXZl
KSB7DQoJCQkJCSRkb20gPSAkcHJvYy0+dHJhbnNmb3JtVG9Eb2MoJGRvbSk7DQoJCQkJCWlz
c2V0KCRldGNfcXVlcnlbJHNhdmVdKSBvciAkZXRjX3F1ZXJ5WyRzYXZlXSA9IG5ldyBcc3Rk
Q2xhc3MoKTsNCgkJCQkJJGV0Y19xdWVyeVskc2F2ZV0tPmRvbSA9ICYkZG9tOw0KCQkJCQkk
ZXRjX3F1ZXJ5WyRzYXZlXS0+bWFya3VwID0gJ3htbCc7DQoJCQkJfQ0KCQkJCXJldHVybiBl
dGNfY2xlYW51cCgkc2F2ZSA/IG51bGwgOiAkcHJvYy0+dHJhbnNmb3JtVG9YTUwoJGRvbSks
ICRzYWZlX2NvbnRleHQsICRzYWZlX2dsb2JhbHMsICRzYWZlX3Nhbml0aXplLCAkc2FmZV9z
cGVjaWFscyk7DQoJCQl9DQoJCX0NCg0KCQkkeHBhdGggPSBuZXcgRE9NWHBhdGgoJGRvbSk7
DQoJCWlmKCRmdW5jdGlvbnMpIHsNCgkJCSR4cGF0aC0+cmVnaXN0ZXJOYW1lc3BhY2UoJ3Bo
cCcsICdodHRwOi8vcGhwLm5ldC94cGF0aCcpOw0KCQkJJHhwYXRoLT5yZWdpc3RlclBIUEZ1
bmN0aW9ucygkZnVuY3Rpb25zKTsNCgkJfQ0KCQlpZighZW1wdHkoJHBmeCkpIHsNCgkJCSR4
cGF0aC0+cmVnaXN0ZXJOYW1lc3BhY2UoJHBmeCwgJGRvbS0+bG9va3VwTmFtZXNwYWNlVXJp
KCRkb20tPm5hbWVzcGFjZVVSSSkpOw0KCQl9DQoNCgkJaWYoZW1wdHkoJHN0YXJ0KSkgJHN0
YXJ0ID0gKCRpc19odG1sID8gJy9odG1sL2JvZHknIDogJy8nKTsNCgkJJHJvb3RzID0gJHhw
YXRoLT5xdWVyeSgkc3RhcnQpOw0KDQoJCWlmKCRkZWJ1Zykge2lmKGluX2FycmF5KCdoJywg
JGRlYnVnKSkge2VjaG8gJG1hcmt1cDsgZG1wKCRpc194bWw/ICRkb20tPnNhdmVYTUwoKSA6
ICRkb20tPnNhdmVIVE1MKCkpO319DQoJCWVsc2UgbGlieG1sX2NsZWFyX2Vycm9ycygpOw0K
CX0vL2RvbQ0KDQoJaWYoZW1wdHkoJGNvbnRlbnRzKSkgey8vJHRoaW5nID09PSBudWxsDQoJ
CSRwYXRoID0gJGZsYXQgfHwgJHF1ZXJ5ICE9PSBudWxsIHx8ICRpc194bWwgPyAnLicgOiAn
bm9kZSgpJzsNCgkJJGNvbnRlbnQgPSAkcGF0aCAhPT0gJy4nOw0KCQkkY29udGVudHMgPSBh
cnJheShhcnJheSgndHlwZScgPT4gJ3hwYXRoJywgJ3RleHQnID0+ICcnLCAndmFsdWUnID0+
IGFycmF5KCdwYXRoJyA9PiAkcGF0aCwgJ21vZGUnID0+ICRmbGF0ID8gJz8nIDogJy4nLCAn
dmFsdWUnID0+IGFycmF5KCksICdhcnJheScgPT4gYXJyYXkoKSkpKTsNCgl9IGVsc2UgJGNv
bnRlbnQgPSB0cnVlOw0KCWlmKCRxdWVyeSA9PT0gbnVsbCkgJHF1ZXJ5ID0gKCRpc194bWwg
JiYgISRub2RhdGEgPyAnbm9kZSgpJyA6ICcuJyk7DQoJJG91dCA9IGFycmF5KCk7DQoJJGV0
Y19xdWVyeV9jb250ZXh0Wyd4cGF0aCddID0gJiR4cGF0aDsNCgkkZXRjX3F1ZXJ5X2NvbnRl
eHRbJ3htbCddID0gJGlzX3htbDsNCg0KCWlmKCRkZWJ1Zykgew0KCQkkZW5kdGltZSA9IG1p
Y3JvdGltZShUUlVFKTsNCgkJZG1wKCJMb2FkZWQgaW4gIiAuICgkZW5kdGltZSAtICRzdGFy
dHRpbWUpIC4gIiBzZWNvbmRzLiAkZmxhdFxuIik7DQoJCWlmKGluX2FycmF5KCdkJywgJGRl
YnVnKSkge2VjaG8gJ0RBVEEgJywgJG1hcmt1cDsgZG1wKCRkYXRhKTt9DQoJCWlmKGluX2Fy
cmF5KCdxJywgJGRlYnVnKSkge2VjaG8gJ1FVRVJZJzsgZG1wKCRxdWVyeSk7IGRtcCgkcXVl
cnlfYXJyYXkpO30NCgkJaWYoaW5fYXJyYXkoJ2MnLCAkZGVidWcpKSB7ZWNobyAnQ09OVEVO
VFMnOyBkbXAoJGNvbnRlbnRzKTt9DQoJCSRzdGFydHRpbWUgPSBtaWNyb3RpbWUoVFJVRSk7
DQoJfQ0KDQoJaWYoIWVtcHR5KCRyb290cykpIHsNCgkJZm9yZWFjaCgkcm9vdHMgYXMgJHJv
b3QpIC8qaWYoISR0aG9yb3VnaCB8fCAkeHBhdGgtPnF1ZXJ5KCRyb290LT5nZXROb2RlUGF0
aCgpKS0+bGVuZ3RoKSovIHsNCgkJCS8vIFVnbHkgaGFjayB0byBkZXRlY3QgaWYgdGhlIG5v
ZGUgaXMgcmVtb3ZlZA0KCQkJJGVsZW1lbnRzID0gJGludGVybmFscyA9IGFycmF5KCk7DQoN
CgkJCWlmKCEkZmxhdCkgew0KCQkJCSRub2RlcyA9ICR4cGF0aC0+ZXZhbHVhdGUoJHF1ZXJ5
LCAkcm9vdCk7DQoJCQkJaWYgKCEoJG5vZGVzIGluc3RhbmNlb2YgRE9NTm9kZUxpc3QpKSB7
DQoJCQkJCSRpbnRlcm5hbHNbJ3s/fSddID0gJG5vZGVzOw0KCQkJCQlpZigkbm9kZXMpIHsN
CgkJCQkJCSRuZXdvdXQgPSAhJGNvbnRlbnQgPyAkbm9kZXMgOiAoaXNzZXQoJGNvbnRlbnRz
Wyd0ZXh0J10pID8gJGNvbnRlbnRzWyd0ZXh0J10gOiBldGNfZXZhbHVhdGVfc3RyaW5nKCRj
b250ZW50cywgJHJvb3QsICRpbnRlcm5hbHMsICRmbGF0KSk7DQoJCQkJCQkkb3V0W10gPSAk
cGFyc2UgPyBwYXJzZSgkbmV3b3V0KSA6ICRuZXdvdXQ7DQoJCQkJCX0NCgkJCQkJY29udGlu
dWU7DQoJCQkJfQ0KCQkJCWZvcmVhY2goJG5vZGVzIGFzICRlbGVtZW50KSAkZWxlbWVudHNb
XSA9ICRlbGVtZW50Ow0KCQkJfS8vIG9yICRyb290ID0gJGRhdGENCgkJCWVsc2VpZigkcXVl
cnkgPT09ICcqJyB8fCAkcXVlcnlfYXJyYXkgPT09IG51bGwpICRlbGVtZW50cyA9IGlzX2Fy
cmF5KCRyb290KSA/ICRyb290IDogKGFycmF5KSAkcm9vdDsNCgkJCWVsc2VpZihlbXB0eSgk
cXVlcnlfYXJyYXkpKSAkZWxlbWVudHMgPSBhcnJheSgkcm9vdCk7Ly9xdWVyeSA9ICIuIiBv
ciAiLyINCgkJCWVsc2Ugew0KCQkJCSRxdWVyeV9hcnJheSA9IGFycmF5KGFycmF5KCd0eXBl
JyA9PiAneHBhdGgnLCAndGV4dCcgPT4gJycsICd2YWx1ZScgPT4gYXJyYXkoJ3BhdGgnID0+
ICcuJywgJ21vZGUnID0+ICc/JywgJ2FycmF5JyA9PiAkcXVlcnlfYXJyYXksICd2YWx1ZScg
PT4gYXJyYXkoKSkpKTsNCgkJCQkkZWxlbWVudHMgPSBldGNfZXZhbHVhdGVfc3RyaW5nKCRx
dWVyeV9hcnJheSwgJHJvb3QsICRpbnRlcm5hbHMsIDIpOw0KCQkJfQ0KDQoJCQlpZiAoJGZs
YXQgJiYgJHF1ZXJ5c29ydCAmJiBpc19hcnJheSgkZWxlbWVudHMpKQ0KCQkJCWZvcmVhY2go
JHF1ZXJ5c29ydCBhcyAkc29ydCkgaWYoJHNvcnQgPT09IHRydWUpIGFzb3J0KCRlbGVtZW50
cyk7IGVsc2UgZXRjX3F1ZXJ5X3NvcnQoJGVsZW1lbnRzLCAkc29ydCk7DQoJCQkkbnVtcyA9
ICRudW1fcm93cyA9IGNvdW50KCRlbGVtZW50cyk7DQoJCQkkb2ZmbnVtID0gKCRvZmZzZXQg
PCAwID8gJG51bXMgKyAkb2Zmc2V0IDogJG9mZnNldCk7DQoJCQlpZigkb2Zmc2V0IHx8ICRs
aW1pdCkgew0KCQkJCSRlbGVtZW50cyA9IGFycmF5X3NsaWNlKCRlbGVtZW50cywgJG9mZnNl
dCwgJGxpbWl0LCB0cnVlKTsNCgkJCQkkbnVtX3Jvd3MgPSBjb3VudCgkZWxlbWVudHMpOw0K
CQkJfQ0KDQoJCQlpZihpc3NldCgkZXRjX3F1ZXJ5X3NwZWNpYWxzWyd7I3Jvd3N9J10pKSAk
aW50ZXJuYWxzWyd7I3Jvd3N9J10gPSAkbnVtX3Jvd3M7DQoJCQlpZihpc3NldCgkZXRjX3F1
ZXJ5X3NwZWNpYWxzWyd7I3RvdGFsfSddKSkgJGludGVybmFsc1sneyN0b3RhbH0nXSA9ICRu
dW1zOw0KCQkJJG51bSA9IDA7DQoNCgkJCWlmKCFlbXB0eSgkZWxlbWVudHMpKSBmb3JlYWNo
KCRlbGVtZW50cyBhcyAkcm93ID0+ICYkZWxlbWVudCkgew0KCQkJCWlmKCFlbXB0eSgkZm9y
bWF0X2luZm8pKSB7DQoJCQkJCWdsb2JhbCAkeyd0aGlzJy4kcG9wdWxhdGV9Oy8vZGFtbiBk
b0FydGljbGVzKCkhDQoJCQkJCWlmKCRmbGF0KSB7DQoJCQkJCQlpZigkcG9wdWxhdGUgPT09
ICdhcnRpY2xlJykgZm9yZWFjaCAoJGNvbHVtbl9tYXAgYXMgJGtleSA9PiAkY29sdW1uKQ0K
CQkJCQkJCSR0aGlzYXJ0aWNsZVska2V5XSA9IGlzc2V0KCRlbGVtZW50WyRjb2x1bW5dKSA/
ICRlbGVtZW50WyRjb2x1bW5dIDogJyc7Ly9hcnRpY2xlX2Zvcm1hdF9pbmZvKCRlbGVtZW50
KTsNCgkJCQkJCWVsc2UgJHsndGhpcycuJHBvcHVsYXRlfSA9ICRmb3JtYXRfaW5mbygkZWxl
bWVudCk7DQoJCQkJCX0gZWxzZWlmKCRwb3B1bGF0ZSA9PT0gJ2FydGljbGUnKSB7DQoJCQkJ
CQlmb3JlYWNoICgkY29sdW1uX21hcCBhcyAka2V5ID0+ICRjb2x1bW4pIHsNCgkJCQkJCQkk
bm9kZXMgPSAkeHBhdGgtPnF1ZXJ5KCRpc194bWwgPyAkY29sdW1uIDogc3RydG9sb3dlcigk
Y29sdW1uKSwgJGVsZW1lbnQpOw0KCQkJCQkJCSR0aGlzYXJ0aWNsZVska2V5XSA9ICRub2Rl
cy0+bGVuZ3RoID8gJG5vZGVzLT5pdGVtKDApLT5ub2RlVmFsdWUgOiAnJzsNCgkJCQkJCX0N
CgkJCQkJfQ0KCQkJCQkkeyd0aGlzJy4kcG9wdWxhdGV9Wydpc19maXJzdCddID0gKCRudW0g
PT0gMCk7DQoJCQkJCSR7J3RoaXMnLiRwb3B1bGF0ZX1bJ2lzX2xhc3QnXSA9ICgkbnVtKzEg
PT0gJG51bV9yb3dzKTsNCgkJCQl9DQoNCgkJCQlpZihpc3NldCgkZXRjX3F1ZXJ5X3NwZWNp
YWxzWyd7I3Jvd30nXSkpICRpbnRlcm5hbHNbJ3sjcm93fSddID0gJG51bSsxOw0KCQkJCWlm
KGlzc2V0KCRldGNfcXVlcnlfc3BlY2lhbHNbJ3sjaW5kfSddKSkgJGludGVybmFsc1sneyNp
bmR9J10gPSAkbnVtKyRvZmZudW07DQoJCQkJaWYoaXNzZXQoJGV0Y19xdWVyeV9zcGVjaWFs
c1snez99J10pKSAkaW50ZXJuYWxzWyd7P30nXSA9ICgkZmxhdCA/ICRlbGVtZW50IDogJGVs
ZW1lbnQtPm5vZGVWYWx1ZSk7DQoJCQkJaWYoaXNzZXQoJGV0Y19xdWVyeV9zcGVjaWFsc1sn
eyN9J10pKSAkaW50ZXJuYWxzWyd7I30nXSA9ICgkZmxhdCA/ICRyb3cgOiAkZWxlbWVudC0+
bm9kZU5hbWUpOw0KDQoJCQkJLy8gUmVwbGFjZS9yZW1vdmUgdmFsdWVzDQoJCQkJaWYoJHJl
cGxhY2UpIGZvcmVhY2goJHJlcGxhY2VfYXJyYXkgYXMgJHZhbCkgew0KCQkJCQkkbm9kZXMg
PSAoJHZhbFsncGF0aCddID09PSAnLicgPyBhcnJheSgkZWxlbWVudCkgOiAkeHBhdGgtPnF1
ZXJ5KCRpbnRlcm5hbHMgPyBzdHJ0cigkdmFsWydwYXRoJ10sICRpbnRlcm5hbHMpIDogJHZh
bFsncGF0aCddLCAkZWxlbWVudCkpOw0KCQkJCQkkaW5kID0gaXNzZXQoJGV0Y19xdWVyeV9z
cGVjaWFsc1sneyMjfSddKSA/IDEgOiAwOw0KCQkJCQlpZigkbm9kZXMpIGZvcmVhY2goJG5v
ZGVzIGFzICRub2RlKSAvKmlmKCEkdGhvcm91Z2ggfHwgJHhwYXRoLT5xdWVyeSgkbm9kZS0+
Z2V0Tm9kZVBhdGgoKSktPmxlbmd0aCkqLyB0cnkNCgkJCQkJew0KCQkJCQkJaWYoJGluZCkg
JGludGVybmFsc1sneyMjfSddID0gJGluZCsrOw0KCQkJCQkJZXRjX3Byb2Nlc3Nfbm9kZSgk
dmFsWyd2YWx1ZSddLCAkbm9kZSwgJGludGVybmFscywgZmFsc2UsIHRydWUpOw0KCQkJCQl9
IGNhdGNoKERPTUV4Y2VwdGlvbiAkZSkge2lmKCRkZWJ1ZykgZWNobyAkZS0+Z2V0TWVzc2Fn
ZSgpO30NCgkJCQl9DQoNCgkJCQkvLyBDb25zdHJ1Y3QgdGhlIHJlcGxhY2VtZW50IGFycmF5
cw0KCQkJCWlmKGlzc2V0KCRldGNfcXVlcnlfc3BlY2lhbHNbJ3sjI30nXSkpICRpbnRlcm5h
bHNbJ3sjI30nXSA9ICRudW0rMTsNCg0KCQkJCSRuZXdvdXQgPSAhJGNvbnRlbnQgJiYgISRz
YW5pdGl6ZQ0KCQkJCQk/ICgkZmxhdCA/ICRlbGVtZW50IDogKCRpc19odG1sID8gJGRvbS0+
c2F2ZUhUTUwoJGVsZW1lbnQpIDogJGRvbS0+c2F2ZVhNTCgkZWxlbWVudCkpKQ0KCQkJCQk6
IChpc3NldCgkY29udGVudHNbJ3RleHQnXSkgPyAkY29udGVudHNbJ3RleHQnXSA6IGV0Y19l
dmFsdWF0ZV9zdHJpbmcoJGNvbnRlbnRzLCAkZWxlbWVudCwgJGludGVybmFscywgJGZsYXQp
KTsNCg0KCQkJCSRvdXRbXSA9ICRwYXJzZSA/IHBhcnNlKCRuZXdvdXQpIDogJG5ld291dDsN
CgkJCQkkbnVtKys7DQoJCQl9DQoJCQl1bnNldCgkZWxlbWVudCwgJGVsZW1lbnRzKTsNCgkJ
fQ0KCX0NCg0KCWlmKCFlbXB0eSgkcG9wdWxhdGUpKSAkeyd0aGlzJy4kcG9wdWxhdGV9ID0g
JHRoaXNwb3B1bGF0ZTsNCglpZigkc2F2ZSkgew0KCQlpc3NldCgkZXRjX3F1ZXJ5WyRzYXZl
XSkgb3IgJGV0Y19xdWVyeVskc2F2ZV0gPSBuZXcgXHN0ZENsYXNzKCk7DQoJCWlmKCEkZmxh
dCkgJGV0Y19xdWVyeVskc2F2ZV0tPmRvbSA9ICYkZG9tOyBlbHNlICRldGNfcXVlcnlbJHNh
dmVdLT5kYXRhID0gJiRkYXRhOw0KCQkkZXRjX3F1ZXJ5WyRzYXZlXS0+bWFya3VwID0gKCRp
c194bWwgPyAneG1sJyA6ICRtYXJrdXApOw0KCX0NCglpZiAoJG91dCkgaWYoISRzYXZlIHx8
ICRuYW1lICE9PSBudWxsKSB7DQoJCS8vIE1ha2UgdXAgdGhlIGZpbmFsIG91dHB1dA0KCQkk
ZmluYWxvdXQgPSAoJGxhYmVsID8gZG9MYWJlbCgkbGFiZWwsICRsYWJlbHRhZykgOiAnJyku
KCR3cmFwdGFnIHx8ICRicmVhayA/IGRvV3JhcCgkb3V0LCAkd3JhcHRhZywgJGJyZWFrLCAk
Y2xhc3MsICcnLCAnJywgJycsICRodG1sX2lkKSA6IGltcGxvZGUoJG91dCkpOw0KCX0gZWxz
ZSAkZmluYWxvdXQgPSAnJzsNCgllbHNlICRmaW5hbG91dCA9IHBhcnNlKCRvbGRUaGluZywg
ZmFsc2UpOy8vbm90aGluZyBmb3VuZA0KDQoJZXRjX2NsZWFudXAobnVsbCwgJHNhZmVfY29u
dGV4dCwgJHNhZmVfZ2xvYmFscywgJHNhZmVfc2FuaXRpemUsICRzYWZlX3NwZWNpYWxzKTsN
CgkkZW5kdGltZSA9IG1pY3JvdGltZShUUlVFKTsNCglpZigkZGVidWcpIGRtcCgiUHJvY2Vz
c2VkIGluICIgLiAoJGVuZHRpbWUgLSAkc3RhcnR0aW1lKSAuICIgc2Vjb25kcy5cbiIpOw0K
CWlmKCRkZWJ1ZyAmJiBpbl9hcnJheSgnbycsICRkZWJ1ZykpIGRtcCgkZmluYWxvdXQpOw0K
CWlmKCRuYW1lKSB7Z2xvYmFsICR2YXJpYWJsZTsgJHZhcmlhYmxlWyRuYW1lXSA9ICYkZmlu
YWxvdXQ7fQ0KCXJldHVybiAkbmFtZSA/ICcnIDogJGZpbmFsb3V0Ow0KfQ0KDQovKioqKioq
KioqKioqKioqKioqKioqKioqKiogUEFSU0UgKioqKioqKioqKioqKioqKioqKioqKioqKi8N
Cg0KZnVuY3Rpb24gZXRjX3BhcnNlX3N0cmluZygkY29udGVudCwgJiRmbGF0KSB7DQoJaWYo
c3RycG9zKCRjb250ZW50LCAneycpID09PSBmYWxzZSkgcmV0dXJuIGFycmF5KCd0ZXh0JyA9
PiAkY29udGVudCk7DQoJZ2xvYmFsICRldGNfcXVlcnlfc3BlY2lhbHMsICRldGNfcXVlcnlf
Y29udGV4dDsNCi8vCSRwcmVnX3N0cmluZyA9ICcvKFx7KD8hW1xzIl0pKD86W157fV18KD8x
KSkrXH0pL1UnOw0KDQoJJGNvbnRlbnRzID0gYXJyYXkoKTsNCgkkY29udGVudHNfYXJyYXkg
PSBwcmVnX3NwbGl0KCcvKFx7KD8+W157fV18KD8xKSkrXH0pL1UnLCAkY29udGVudCwgbnVs
bCwgUFJFR19TUExJVF9ERUxJTV9DQVBUVVJFKTsNCgkkbnVtID0gY291bnQoJGNvbnRlbnRz
X2FycmF5KTsvLzJuKzENCgkkdGV4dCA9ICRjb250ZW50c19hcnJheVswXTsNCglmb3IoJGkg
PSAxOyAkaSA8ICRudW07ICRpKz0yKSB7DQoJCSRzdHJpbmcgPSBzdWJzdHIoJGNvbnRlbnRz
X2FycmF5WyRpXSwgMSwgLTEpOw0KCQlpZihzdHJwb3MoJ3sgIicsICRzdHJpbmdbMF0pICE9
PSBmYWxzZSkgew0KCQkJJGwgPSAwOyB3aGlsZSgkc3RyaW5nWyRsXSA9PT0gJ3snKSAkbCsr
Ow0KCQkJJGNzdHJpbmcgPSBldGNfcGFyc2Vfc3RyaW5nKCRsID8gc3Vic3RyKCRzdHJpbmcs
ICRsLCAtJGwpIDogJHN0cmluZywgJGZsYXQpOw0KCQkJJGwgPSBtYXgoMSwgJGwpOw0KCQkJ
aWYoaXNzZXQoJGNzdHJpbmdbJ3RleHQnXSkpICR0ZXh0IC49IHN0cl9yZXBlYXQoJ3snLCAk
bCkuJGNzdHJpbmdbJ3RleHQnXS5zdHJfcmVwZWF0KCd9JywgJGwpOw0KCQkJZWxzZSB7JGNv
bnRlbnRzW10gPSBhcnJheSgndHlwZScgPT4gJ3N0cmluZycsICd0ZXh0JyA9PiAkdGV4dCwg
J3ZhbHVlJyA9PiAkY3N0cmluZywgJ2xldmVsJyA9PiAkbCk7ICR0ZXh0ID0gJyc7fQ0KCQl9
DQoJCWVsc2VpZigkc3RyaW5nWzBdID09PSAnPycgJiYgc3RybGVuKCRzdHJpbmcpID4gMSkg
JHRleHQgLj0gZXRjX3BhcnNlX3ZhcmlhYmxlKGFycmF5KCRjb250ZW50c19hcnJheVskaV0p
KTsNCgkJZWxzZSB7DQoJCQlzd2l0Y2goJHN0cmluZ1swXSkgew0KCQkJCWNhc2UgJyQnIDog
JHZhbHVlID0gZXRjX3BhcnNlX2Z1bmN0aW9uKHN1YnN0cigkc3RyaW5nLCAxKSwgJGZsYXQp
Ow0KCQkJCWlmKCR2YWx1ZSAmJiAkdmFsdWVbMF1bJ2Z1bmMnXSA9PT0gJ0AnKSB7DQoJCQkJ
CSRjb250ZW50c1tdID0gYXJyYXkoJ3R5cGUnID0+ICdkZWZpbmUnLCAndGV4dCcgPT4gJycs
ICd2YWx1ZScgPT4gJHZhbHVlWzBdWydhcmdzJ11bMF1bMF1bJ3ZhbHVlJ10pOw0KCQkJCQkk
dmFsdWUgPSBhcnJheV9zbGljZSgkdmFsdWUsIDEpOw0KCQkJCX0NCgkJCQkkY29udGVudHNb
XSA9IGFycmF5KCd0eXBlJyA9PiAnZnVuYycsICd0ZXh0JyA9PiAkdGV4dCwgJ3ZhbHVlJyA9
PiAkdmFsdWUpOyAkdGV4dCA9ICcnOyBicmVhazsNCgkJCQljYXNlICcjJyA6IGNhc2UgJz8n
IDogJGNvbnRlbnRzW10gPSAkZXRjX3F1ZXJ5X3NwZWNpYWxzWyRjb250ZW50c19hcnJheVsk
aV1dID0gYXJyYXkoJ3R5cGUnID0+ICdpbnRlcm5hbCcsICd0ZXh0JyA9PiAkdGV4dCwgJ3Zh
bHVlJyA9PiAkc3RyaW5nKTsgJHRleHQgPSAnJzsgYnJlYWs7DQoJCQkJY2FzZSAnJScgOiAk
dGV4dCAuPSBzdWJzdHIoJHN0cmluZywgMSk7IGJyZWFrOw0KCQkJCWNhc2UgJyEnIDogJHBh
cnRzID0gZXhwbG9kZSgnfCcsICRzdHJpbmcsIDMpOw0KCQkJCWlmKGNvdW50KCRwYXJ0cykg
PiAyKSB7JHN0cmluZyA9ICRwYXJ0c1swXS4nfCcuJHBhcnRzWzFdOyAkZnVuYyA9IGV0Y19w
YXJzZV9mdW5jdGlvbigkcGFydHNbMl0sICRmbGF0KTt9DQoJCQkJZWxzZSAkZnVuYyA9IG51
bGw7DQoJCQkJJGNvbnRlbnRzW10gPSAkZnVuYyA/IGFycmF5KCd0eXBlJyA9PiAnZnVuYycs
ICd0ZXh0JyA9PiAkdGV4dCwgJ3ZhbHVlJyA9PiAkZnVuYywgJ3ZhcicgPT4gYXJyYXkoJ3sn
LiRzdHJpbmcuJ30nKSkgOiBhcnJheSgndHlwZScgPT4gJ3ZhcicsICd0ZXh0JyA9PiAkdGV4
dCwgJ3ZhbHVlJyA9PiBhcnJheSgkY29udGVudHNfYXJyYXlbJGldKSkgOyAkdGV4dCA9ICcn
OyBicmVhazsNCgkJCQlkZWZhdWx0IDogJGNvbnRlbnRzW10gPSBhcnJheSgndHlwZScgPT4g
J3hwYXRoJywgJ3RleHQnID0+ICR0ZXh0LCAndmFsdWUnID0+IGV0Y19wYXJzZV94cGF0aCgk
c3RyaW5nLCAkZmxhdCkpOyAkdGV4dCA9ICcnOw0KCQkJfQ0KCQl9DQoJCSR0ZXh0IC49ICRj
b250ZW50c19hcnJheVskaSsxXTsNCgl9DQoJaWYoJHRleHQgPiAnJykgJGNvbnRlbnRzW10g
PSBhcnJheSgndHlwZScgPT4gJ3RleHQnLCAndGV4dCcgPT4gJHRleHQpOw0KCWlmKGNvdW50
KCRjb250ZW50cykgPT09IDEgJiYgJGNvbnRlbnRzWzBdWyd0eXBlJ10gPT09ICd0ZXh0Jykg
JGNvbnRlbnRzID0gYXJyYXkoJ3RleHQnID0+ICRjb250ZW50c1swXVsndGV4dCddKTsNCgly
ZXR1cm4gJGNvbnRlbnRzOw0KfQ0KDQpmdW5jdGlvbiBldGNfcGFyc2VfdmFyaWFibGUoJHZh
bCkgew0KCWdsb2JhbCAkZXRjX3F1ZXJ5X2NvbnRleHQsICRldGNfcXVlcnlfZ2xvYmFscywg
JGV0Y19xdWVyeV9zYW5pdGl6ZSwgJGV0Y19xdWVyeV9zcGVjaWFsczsNCgkkcGF0ID0gJHZh
bFswXTsNCglpZihpc3NldCgkZXRjX3F1ZXJ5X3NwZWNpYWxzWyRwYXRdKSkgcmV0dXJuICRl
dGNfcXVlcnlfc3BlY2lhbHNbJHBhdF07DQoJbGlzdCgkdmFycywgJGRlZiwgJGZvcm1hdCkg
PSBleHBsb2RlKCd8Jywgc3Vic3RyKCRwYXQsIDIsIC0xKSwgMykgKyBhcnJheShudWxsLCBu
dWxsLCBudWxsKTsNCglpZigkdmFycyA9PT0gJycgfHwgIWVtcHR5KCRldGNfcXVlcnlfZ2xv
YmFscykpIGZvcmVhY2goZXhwbG9kZSgnLCcsICR2YXJzKSBhcyAkdmFyKQ0KCQlpZigkdmFy
ICE9PSAnJykge2ZvcmVhY2goJGV0Y19xdWVyeV9nbG9iYWxzIGFzICRnbG9iYWwpIGlmKGlz
c2V0KCRHTE9CQUxTWyRnbG9iYWxdWyR2YXJdKSAmJiAkR0xPQkFMU1skZ2xvYmFsXVskdmFy
XSAhPT0gJycpDQoJCQl7JHZhbHVlID0gJEdMT0JBTFNbJGdsb2JhbF1bJHZhcl07IGJyZWFr
IDI7fX0NCgkJZWxzZSB7JHZhbHVlID0gKGlzc2V0KCRkZWYpID8gJGRlZiA6ICcnKTsgJGds
b2JhbCA9IG51bGw7fQ0KCWlmKCFpc3NldCgkdmFsdWUpKSAkdmFsdWUgPSAoaXNzZXQoJGRl
ZikgPyAkZGVmIDogJycpOw0KCWVsc2Ugew0KCQlpZihNQUdJQ19RVU9URVNfR1BDICYmICRn
bG9iYWwgJiYgaW5fYXJyYXkoJGdsb2JhbCwgJGV0Y19xdWVyeV9jb250ZXh0WydzdHJpcCdd
KSkgJHZhbHVlID0gZG9TdHJpcCgkdmFsdWUpOw0KCQlpZighZW1wdHkoJGZvcm1hdCkpIHsN
CgkJCSRmbGF0ID0gdHJ1ZTsgLy8kaW50ZXJuYWxzID0gbnVsbDsNCgkJCWlmICgkZm9ybWF0
WzBdID09PSAnIycpIHsNCgkJCQkkZm9ybWF0ID0gbHRyaW0oJGZvcm1hdCwgJyMuJyk7ICR2
YWx1ZSA9IGlzc2V0KCR2YXIpID8gJHZhciA6ICR2YWx1ZTsNCgkJCX0NCgkJCSRmb3JtYXQg
PSBhcnJheShhcnJheSgndHlwZScgPT4gJ2Z1bmMnLCAndGV4dCcgPT4gJycsICd2YWx1ZScg
PT4gZXRjX3BhcnNlX2Z1bmN0aW9uKCRmb3JtYXQsICRmbGF0KSkpOw0KCQkJJHZhbHVlID0g
ZXRjX2V2YWx1YXRlX3N0cmluZygkZm9ybWF0LCAkdmFsdWUsIG51bGwpOw0KCQl9DQoJCWVs
c2VpZighZW1wdHkoJGV0Y19xdWVyeV9zYW5pdGl6ZVskZ2xvYmFsXSkpICR2YWx1ZSA9ICRl
dGNfcXVlcnlfc2FuaXRpemVbJGdsb2JhbF0oJHZhbHVlKTsNCgkJZWxzZWlmKCFpc3NldCgk
ZXRjX3F1ZXJ5X3Nhbml0aXplWyRnbG9iYWxdKSAmJiAhZW1wdHkoJGV0Y19xdWVyeV9zYW5p
dGl6ZVsnKiddKSkgJHZhbHVlID0gJGV0Y19xdWVyeV9zYW5pdGl6ZVsnKiddKCR2YWx1ZSk7
DQoJfQ0KCWlmKCRwYXRbMV0gPT09ICc/JykgJGV0Y19xdWVyeV9zcGVjaWFsc1skcGF0XSA9
ICR2YWx1ZTsNCglyZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBldGNfcGFyc2VfZnVu
Y3Rpb24oJGZvcm1hdCwgJiRmbGF0KSB7DQoJZ2xvYmFsICRldGNfcXVlcnlfY29udGV4dDsN
Cg0KCSRwaXBlID0gJGV0Y19xdWVyeV9jb250ZXh0WydhcmdzZXAnXTsNCgkkcmVzID0gJHJl
cCA9IGFycmF5KCk7DQoJaWYoc3RycG9zKCRmb3JtYXQsICd7JykgIT09IGZhbHNlKSB7DQoJ
CSRmb3JtYXQgPSBwcmVnX3NwbGl0KCcvKFx7KD8+W157fV18KD8xKSkqXH0pL1UnLCAkZm9y
bWF0LCBudWxsLCBQUkVHX1NQTElUX0RFTElNX0NBUFRVUkUpOy8vMm4rMQ0KCQkkY291bnQg
PSBjb3VudCgkZm9ybWF0KTsNCgkJZm9yKCRpPTE7ICRpPCRjb3VudDsgJGkrPTIpIHskcmVw
Wyd7Jy4kaS4nfSddID0gJGZvcm1hdFskaV07ICRmb3JtYXRbJGldID0gJ3snLiRpLid9Jzsg
fQ0KCQkkZm9ybWF0ID0gaW1wbG9kZSgkZm9ybWF0KTsNCgl9DQovLycvKFteXChcKVwuXSoo
PzpcKFteXChcKV0qXCkpPykoPzpcLnwkKS9VJw0KCWlmKCRmb3JtYXRbMF0gPT09ICcuJykg
JGZvcm1hdCA9ICd+Jy4kZm9ybWF0Ow0KCSRmb3JtYXQgPSBwcmVnX3NwbGl0KCcvKFteXChc
KVwuXSopKFwoKD8+W15cKFwpXXwoPzIpKSpcKSk/KD86XC58JCkvJywgJGZvcm1hdCwgbnVs
bCwgUFJFR19TUExJVF9ERUxJTV9DQVBUVVJFIHwgUFJFR19TUExJVF9OT19FTVBUWSk7DQoN
Cglmb3JlYWNoKCRmb3JtYXQgYXMgJGkgPT4gJGZvcm0pIHsNCgkJaWYoJGZvcm1bMF0gIT09
ICcoJykgey8vZnVuYw0KCQkJaWYoaXNzZXQoJGZ1bmMpKSAkcmVzW10gPSBhcnJheSgnZnVu
Yyc9PiRmdW5jLCAncmVmJz0+JHJlZiwgJ2FyZ3MnPT4kYXJncyk7DQoJCQkkZnVuYyA9IGx0
cmltKCRmb3JtKTsNCgkJCSRyZWYgPSAkZnVuY1swXSA9PT0gJ0AnOw0KCQkJaWYoJHJlZikg
JGZ1bmMgPSBzdWJzdHIoJGZ1bmMsIDEpOw0KCQkJJGFyZ3MgPSBhcnJheShhcnJheSgndGV4
dCcgPT4gJyQnKSk7DQoJCQlpZigkZnVuYyAhPT0gJycpIHN3aXRjaCgkZnVuY1swXSkgew0K
CQkJCWNhc2UgJysnIDogY2FzZSAnKicgOiBjYXNlICctJyA6IGNhc2UgJy8nIDogY2FzZSAn
JScgOiBjYXNlICdeJyA6DQoJCQkJaWYoc3RybGVuKCRmdW5jKSA+IDEpICRhcmdzW10gPSBh
cnJheSgndGV4dCcgPT4gZmxvYXR2YWwoc3Vic3RyKCRmdW5jLCAxKSkpOyAkZnVuYyA9ICRm
dW5jWzBdOyBicmVhazsNCgkJCQljYXNlICd+JyA6IGlmKHN0cmxlbigkZnVuYykgPiAxKSAk
YXJnc1tdID0gYXJyYXkoJ3RleHQnID0+IHN1YnN0cigkZnVuYywgMSkpOyAkZnVuYyA9ICRm
dW5jWzBdOyBicmVhazsNCgkJCQljYXNlICc9JyA6IGNhc2UgJz4nIDogY2FzZSAnPCcgOiBj
YXNlICc/JyA6IGlmKHN0cmxlbigkZnVuYykgPiAxKSAkYXJnc1tdID0gYXJyYXkoJ3RleHQn
ID0+IGx0cmltKHN1YnN0cigkZnVuYywgMSkpKTsgJGZ1bmMgPSAkZnVuY1swXTsgYnJlYWs7
DQoJCQkJY2FzZSAnJCcgOiBpZigkaSkgeyRhcmdzW10gPSBhcnJheSgndGV4dCcgPT4gJGZ1
bmMgPT09ICckJyA/ICcnIDogJGZ1bmMpOyAkZnVuYyA9ICckJzt9DQoJCQkJZWxzZSB7JGFy
Z3MgPSBhcnJheShhcnJheSgndGV4dCcgPT4gJycpLCBhcnJheSgndGV4dCcgPT4gJGZ1bmMp
KTsgJGZ1bmMgPSAnfic7fQ0KCQkJCWJyZWFrOw0KCQkJCWRlZmF1bHQgOiAkZnVuYyA9IHRy
aW0oJGZ1bmMpOw0KCQkJCWlmKCEkZXRjX3F1ZXJ5X2NvbnRleHRbJ3BocCddICYmICFpbl9h
cnJheSgkZnVuYywgYXJyYXkoJ2RhdGUnLCAndGV4dGlsZScpKSkgJGZ1bmMgPSAnJzsNCgkJ
CQlpZigkZnVuYyA9PT0gJ3RleHRpbGUnKSB7DQoJCQkJCSRmdW5jID0gJ1RleHRpbGUtPlRl
eHRpbGVUaGlzJzsNCgkJCQl9DQoJCQkJaWYgKHN0cnBvcygkZnVuYywgJzo6JykpICRmdW5j
ID0gZXhwbG9kZSgnOjonLCAkZnVuYyk7DQoJCQkJZWxzZWlmKHN0cnBvcygkZnVuYywgJy0+
JykpIHsNCgkJCQkJJGZ1bmMgPSBleHBsb2RlKCctPicsICRmdW5jKTsNCgkJCQkJaWYoc3Ry
dG9sb3dlcigkZnVuY1swXSkgPT09ICd0ZXh0aWxlJykgaW5jbHVkZV9vbmNlKHR4cGF0aC4n
L2xpYi9jbGFzc1RleHRpbGUucGhwJyk7DQoJCQkJCWlmIChjbGFzc19leGlzdHMoJGZ1bmNb
MF0pKSAkZnVuY1swXSA9IG5ldyAkZnVuY1swXTsNCgkJCQl9DQoJCQkJaWYoIWlzX2NhbGxh
YmxlKCRmdW5jKSkgdW5zZXQoJGZ1bmMsICRyZWYpOw0KCQkJfSBlbHNlIHVuc2V0KCRmdW5j
LCAkcmVmKTsNCgkJfSBlbHNlIHsvL2FyZ3MNCgkJCSRhcmdzX2xpc3QgPSBzdWJzdHIoJGZv
cm0sIDEsIC0xKTsNCgkJCWlmKCFpc3NldCgkZnVuYykpIHsNCgkJCQlpZighJGkpIHsNCgkJ
CQkJJGZ1bmMgPSAnQCc7ICRyZWYgPSBmYWxzZTsNCgkJCQkJJGFyZ3MgPSBhcnJheShhcnJh
eShhcnJheSgndHlwZScgPT4gJ3hwYXRoJywgJ3RleHQnID0+ICcnLCAndmFsdWUnID0+IGV0
Y19wYXJzZV94cGF0aCgkYXJnc19saXN0LCAkZmxhdCkpKSk7DQoJCQkJfQ0KCQkJCWNvbnRp
bnVlOw0KCQkJfQ0KCQkJaWYoJGZ1bmMgIT09ICc/JyAmJiBjb3VudCgkYXJncykgPCAyKSAk
YXJncyA9IGFycmF5KCk7DQoJCQlpZigkYXJnc19saXN0ICE9PSAnJykgZm9yZWFjaChleHBs
b2RlKCRwaXBlLCAkYXJnc19saXN0KSBhcyAkYXJnKSAkYXJnc1tdID0gJHJlcCA/IGV0Y19w
YXJzZV9zdHJpbmcoc3RydHIoJGFyZywgJHJlcCksICRmbGF0KSA6IGFycmF5KCd0ZXh0JyA9
PiAkYXJnKTsNCgkJCWlmKCRmdW5jID09PSAnPycpICRhcmdzID0gYXJyYXlfc2xpY2UoJGFy
Z3MsIC0zKTsNCgkJfQ0KCX0NCglpZihpc3NldCgkZnVuYykpICRyZXNbXSA9IGFycmF5KCdm
dW5jJz0+JGZ1bmMsICdyZWYnPT4kcmVmLCAnYXJncyc9PiRhcmdzKTsNCglyZXR1cm4gJHJl
czsNCn0NCg0KZnVuY3Rpb24gZXRjX3BhcnNlX3hwYXRoKCRwYXR0ZXJuLCAmJGZsYXQpIHsN
CglnbG9iYWwgJGV0Y19xdWVyeV9jb250ZXh0LCAkZXRjX3F1ZXJ5X2dsb2JhbHM7DQoNCgkk
ZnVuYyA9ICRldGNfcXVlcnlfY29udGV4dFsnZnVuY3Rpb25zJ107DQoNCglsaXN0KCRwYXRo
LCAkdmFsKSA9IGV4cGxvZGUoJ0BAJywgJHBhdHRlcm4sIDIpICsgYXJyYXkobnVsbCwgbnVs
bCk7DQoNCglpZihpc3NldCgkdmFsKSkgew0KCQkkcGFpcnMgPSBwcmVnX3NwbGl0KCcvKCg/
PlteXFtcXSgpe31dfFtcW1woXHtdKD8xKSpbXF1cKVx9XSkrKUAvVScsICR2YWwsIG51bGws
IFBSRUdfU1BMSVRfTk9fRU1QVFkgfCBQUkVHX1NQTElUX0RFTElNX0NBUFRVUkUpOw0KCQkk
ZmxhdCA9IGZhbHNlOw0KCQkkdmFsID0gYXJyYXkoKTsNCgkJZm9yZWFjaCgkcGFpcnMgYXMg
JHBhaXIpIHsNCgkJCWxpc3QoJG5hbWUsICRhdmFsKSA9IGV4cGxvZGUoJz0nLCAkcGFpciwg
MikgKyBhcnJheShudWxsLCBudWxsKTsNCgkJCWlmKCRuYW1lID4gJycpICR2YWxbJG5hbWVd
ID0gJGF2YWw7DQoJCX0NCgl9IGVsc2Ugew0KCQlsaXN0KCRwYXRoLCAkdmFsKSA9IHByZWdf
c3BsaXQoJy9eKCg/PlteXFtcXSgpe31dfFtcW1woXHtdKD8xKSpbXF1cKVx9XSkrKT0oLiop
JC9zRFUnLCAkcGF0dGVybiwgMiwgUFJFR19TUExJVF9ERUxJTV9DQVBUVVJFIHwgUFJFR19T
UExJVF9OT19FTVBUWSkgKyBhcnJheShudWxsLCBudWxsKTsNCgkJaWYoIWlzc2V0KCR2YWwp
ICYmIHN0cmxlbigkcGF0aCkgPCBzdHJsZW4oJHBhdHRlcm4pKSAkdmFsID0gJyc7DQoJfQ0K
DQoJaWYoJHBhdGggIT09ICcnICYmIHN0cnBvcygnOj8jK14kfiYvJywgc3Vic3RyKCRwYXRo
LCAtMSkpICE9PSBmYWxzZSkgew0KCQkkbW9kZSA9IHN1YnN0cigkcGF0aCwgLTEpOyAkcGF0
aCA9IHN1YnN0cigkcGF0aCwgMCwgLTEpOw0KCX0gZWxzZSAkbW9kZSA9ICcuJzsNCglpZigk
bW9kZSAhPT0gJz8nKSAkZmxhdCA9IGZhbHNlOw0KCWlmKCRwYXRoID09PSAnJykgJHBhdGgg
PSAnLic7DQoJZWxzZWlmKCRldGNfcXVlcnlfZ2xvYmFscykgJHBhdGggPSBwcmVnX3JlcGxh
Y2VfY2FsbGJhY2soRVRDX1BSRUdfU1BFQywgJ2V0Y19wYXJzZV92YXJpYWJsZScsICRwYXRo
KTsNCglpZihpc3NldCgkdmFsKSAmJiAhaXNfYXJyYXkoJHZhbCkpICR2YWwgPSBhcnJheSgk
bW9kZSA9PiAkdmFsKTsNCg0KCSRhdHRyX2FycmF5ID0gYXJyYXkoKTsNCg0KCWlmKCFlbXB0
eSgkdmFsKSkgZm9yZWFjaCgkdmFsIGFzICRhdHRyPT4kdmFsdWUpIGlmKCRhdHRyICE9PSAn
JicpIHsNCgkJJHJlcFsnYXR0ciddID0gJGV0Y19xdWVyeV9nbG9iYWxzID8gcHJlZ19yZXBs
YWNlX2NhbGxiYWNrKEVUQ19QUkVHX1NQRUMsICdldGNfcGFyc2VfdmFyaWFibGUnLCAkYXR0
cikgOiAkYXR0cjsNCgkJJHJlcFsndmFsdWUnXSA9ICR2YWx1ZSA9PT0gbnVsbCA/IG51bGwg
OiBldGNfcGFyc2Vfc3RyaW5nKCR2YWx1ZSwgJGZsYXQpOw0KCQkkYXR0cl9hcnJheVtdID0g
JHJlcDsNCi8vCQl1bnNldCgkcmVwKTsNCgl9IGVsc2VpZigkdmFsdWUgIT09IG51bGwpIHsk
bGFzdFsnYXR0ciddID0gJyYnOyAkbGFzdFsndmFsdWUnXSA9IGV0Y19wYXJzZV9zdHJpbmco
JHZhbHVlLCAkZmxhdCk7fQ0KCWlmKGlzc2V0KCRsYXN0KSkgJGF0dHJfYXJyYXlbXSA9ICRs
YXN0Ow0KCXVuc2V0KCRwYXR0ZXJuKTsNCgkkcGF0dGVyblsncGF0aCddID0gJGZ1bmMgPyBw
cmVnX3JlcGxhY2UoJy9cYignLiRmdW5jLicpXHMqXCgvJywgInBocDpmdW5jdGlvbignJDEn
LCIsICRwYXRoKSA6ICRwYXRoOw0KCSRwYXR0ZXJuWydtb2RlJ10gPSAkbW9kZTsNCgkkcGF0
dGVyblsndmFsdWUnXSA9ICRhdHRyX2FycmF5Ow0KDQoJaWYoJGZsYXQgJiYgJHBhdGggIT09
ICcvJykgaWYoc3RycG9zKCRwYXRoLCAnLy8nKSAhPT0gZmFsc2UpICRmbGF0ID0gZmFsc2U7
IGVsc2Ugew0KCQkkbWF0Y2hlcyA9IGV4cGxvZGUoJy8nLCAkcGF0aCk7DQoJCWZvcmVhY2go
JG1hdGNoZXMgYXMgJG1hdGNoKSBpZigkbWF0Y2ggIT09ICcqJyAmJiAkbWF0Y2ggIT09ICcu
JyAmJiBwcmVnX21hdGNoKCcvW1woXClcW1xdXC46QF0vJywgJG1hdGNoKSkgew0KCQkJJGZs
YXQgPSBmYWxzZTsgYnJlYWs7DQoJCX0NCgkJaWYoJGZsYXQpICRwYXR0ZXJuWydhcnJheSdd
ID0gYXJyYXlfZGlmZigkbWF0Y2hlcywgYXJyYXkoJy4nKSk7DQoJfQ0KCXJldHVybiAkcGF0
dGVybjsNCn0NCg0KLyoqKioqKioqKioqKioqKioqKioqKioqKioqIEVWQUxVQVRFICoqKioq
KioqKioqKioqKioqKioqKioqKiovDQoNCmZ1bmN0aW9uIGV0Y19ldmFsdWF0ZV9zdHJpbmco
JiRjb250ZW50cywgJiRlbGVtZW50LCAkaW50ZXJuYWxzLCAkZmxhdD10cnVlKSB7DQoJaWYo
aXNzZXQoJGNvbnRlbnRzWyd0ZXh0J10pKSByZXR1cm4gJGNvbnRlbnRzWyd0ZXh0J107DQoJ
Z2xvYmFsICRldGNfcXVlcnlfY29udGV4dCwgJGV0Y19xdWVyeV9zYW5pdGl6ZSwgJGV0Y19x
dWVyeV9zcGVjaWFsczsNCg0KCSR3cmFwID0gJGZsYXQgPT09IDI7DQoJJHJlcyA9ICR3cmFw
ID8gYXJyYXkoKSA6ICcnOw0KCSRkZWZpbmVzID0gYXJyYXkoKTsNCglpZighJGZsYXQpIHsN
CgkJJGlzX3htbCA9ICRldGNfcXVlcnlfY29udGV4dFsneG1sJ107DQoJCSRkb20gPSAkZWxl
bWVudC0+b3duZXJEb2N1bWVudDsNCgl9DQoNCglmb3JlYWNoKCRjb250ZW50cyBhcyAkY29u
dGVudCkgew0KCQlpZighJHdyYXApICRyZXMgLj0gJGNvbnRlbnRbJ3RleHQnXTsNCgkJc3dp
dGNoKCRjb250ZW50Wyd0eXBlJ10pIHsNCgkJCWNhc2UgJ3RleHQnIDogYnJlYWs7DQoNCgkJ
CWNhc2UgJ2ludGVybmFsJyA6ICRyZXMgLj0gKGlzc2V0KCRpbnRlcm5hbHNbJ3snLiRjb250
ZW50Wyd2YWx1ZSddLid9J10pID8gJGludGVybmFsc1sneycuJGNvbnRlbnRbJ3ZhbHVlJ10u
J30nXSA6ICRjb250ZW50Wyd2YWx1ZSddKTsgYnJlYWs7DQoNCgkJCWNhc2UgJ3ZhcicgOiAk
cmVzIC49IGV0Y19wYXJzZV92YXJpYWJsZSgkY29udGVudFsndmFsdWUnXSk7IGJyZWFrOw0K
DQoJCQljYXNlICdzdHJpbmcnIDogJGwgPSAhZW1wdHkoJGNvbnRlbnRbJ2xldmVsJ10pID8g
JGNvbnRlbnRbJ2xldmVsJ10gOiAwOw0KCQkJJHJlcyAuPSBzdHJfcmVwZWF0KCd7JywgJGwp
LmV0Y19ldmFsdWF0ZV9zdHJpbmcoJGNvbnRlbnRbJ3ZhbHVlJ10sICRlbGVtZW50LCAkaW50
ZXJuYWxzLCAkZmxhdCkuc3RyX3JlcGVhdCgnfScsICRsKTsgYnJlYWs7DQoNCgkJCWNhc2Ug
J2Z1bmMnIDogaWYoIWVtcHR5KCR1bmRlZmluZWQpKSB7dW5zZXQoJHVuZGVmaW5lZCk7IGJy
ZWFrO30NCgkJCSR2YWwgPSBpc3NldCgkY29udGVudFsndmFyJ10pID8gZXRjX3BhcnNlX3Zh
cmlhYmxlKCRjb250ZW50Wyd2YXInXSkgOiAoaXNzZXQoJGRlZmluZSkgPyAkZGVmaW5lIDog
KCRmbGF0ID8gJGVsZW1lbnQgOiAkZWxlbWVudC0+bm9kZVZhbHVlKSk7DQoJCQl1bnNldCgk
ZGVmaW5lKTsNCgkJCWlmKGVtcHR5KCRjb250ZW50Wyd2YWx1ZSddKSkgeyRyZXMgLj0gJHZh
bDsgYnJlYWs7fQ0KCQkJZm9yZWFjaCgkY29udGVudFsndmFsdWUnXSBhcyAkZm9ybSkgew0K
CQkJCSRmdW5jID0gJGZvcm1bJ2Z1bmMnXTsNCgkJCQkkcmVmID0gJGZvcm1bJ3JlZiddOw0K
CQkJCSRhcmdzID0gYXJyYXkoKTsNCgkJCQlpZigkaGFzX2FyZ3MgPSBjb3VudCgkZm9ybVsn
YXJncyddKSkgew0KCQkJCQlmb3JlYWNoKCRmb3JtWydhcmdzJ10gYXMgJGtleSA9PiAkYXJn
KSB7DQoJCQkJCQlpZighJGtleSB8fCAkZnVuYyAhPT0gJz8nIHx8ICRrZXkgPT09ICgkYXJn
c1swXSA/IDEgOiAyKSkNCgkJCQkJCQkkYXJnID0gaXNzZXQoJGFyZ1sndGV4dCddKSA/ICRh
cmdbJ3RleHQnXSA6IGV0Y19ldmFsdWF0ZV9zdHJpbmcoJGFyZywgJGVsZW1lbnQsICRpbnRl
cm5hbHMsICRmbGF0KTsNCgkJCQkJCWVsc2UgJGFyZyA9ICcnOw0KCQkJCQkJaWYoJGFyZyA9
PT0gJyQnKSAkYXJnc1tdID0mICR2YWw7DQoJCQkJCQllbHNlaWYoJGFyZyAmJiAkYXJnWzBd
ID09PSAnJCcgJiYgaXNzZXQoJGRlZmluZXNbJGFyZ10pKSAkYXJnc1tdID0mICRkZWZpbmVz
WyRhcmddOw0KCQkJCQkJZWxzZSAkYXJnc1tdID0gJGFyZzsNCgkJCQkJfQ0KCQkJCX0NCgkJ
CQlzd2l0Y2goJGZ1bmMpIHsNCgkJCQkJY2FzZSAnJCcgOiBpZigkYXJnc1sxXSAhPT0gJycp
ICRkZWZpbmVzWyRhcmdzWzFdXSA9ICR2YWw7IGVsc2UgJHZhbCA9ICcnOyBicmVhazsgLy8k
YXJnc1swXT0nJCcNCgkJCQkJY2FzZSAnficgOiAkdmFsID0gaXNfYXJyYXkoJGFyZ3NbMF0p
ID8gaW1wbG9kZSgkaGFzX2FyZ3MgPiAxID8gJGFyZ3NbMV0gOiAnJywgJGFyZ3NbMF0pIDog
aW1wbG9kZSgkYXJncyk7IGJyZWFrOw0KCQkJCQljYXNlICcrJyA6ICR2YWwgPSBhcnJheV9z
dW0oJGFyZ3MpOyBicmVhazsNCgkJCQkJY2FzZSAnKicgOiAkdmFsID0gYXJyYXlfcHJvZHVj
dCgkYXJncyk7IGJyZWFrOw0KCQkJCQljYXNlICctJyA6ICR2YWwgPSAyKiRhcmdzWzBdIC0g
YXJyYXlfc3VtKCRhcmdzKTsgYnJlYWs7DQoJCQkJCWNhc2UgJy8nIDogJHZhbCA9ICRhcmdz
WzBdID8gJGFyZ3NbMF0qJGFyZ3NbMF0gLyBhcnJheV9wcm9kdWN0KCRhcmdzKSA6IDA7IGJy
ZWFrOw0KCQkJCQljYXNlICclJyA6ICR2YWwgPSAkYXJnc1swXSAlICRhcmdzWzFdOyBicmVh
azsNCgkJCQkJY2FzZSAnXicgOiAkdmFsID0gcG93KCRhcmdzWzBdLCAkYXJnc1sxXSk7IGJy
ZWFrOw0KCQkJCQljYXNlICc/JyA6IHN3aXRjaCgkaGFzX2FyZ3MpIHsNCgkJCQkJCWNhc2Ug
MCA6IGJyZWFrOw0KCQkJCQkJY2FzZSAxIDogJHZhbCA9ICgkYXJnc1swXSA/ICcxJyA6ICcw
Jyk7IGJyZWFrOw0KCQkJCQkJZGVmYXVsdCA6ICR2YWwgPSAhZW1wdHkoJGFyZ3NbMF0pID8g
JGFyZ3NbMV0gOiAoaXNzZXQoJGFyZ3NbMl0pID8gJGFyZ3NbMl0gOiAnJyk7DQoJCQkJCX0g
YnJlYWs7DQoJCQkJCWNhc2UgJz0nIDogc3dpdGNoKCRoYXNfYXJncykgew0KCQkJCQkJY2Fz
ZSAwIDogY2FzZSAxOiBicmVhazsNCi8vCQkJCQkJY2FzZSAxIDogJHZhbCA9ICgkYXJnc1sw
XSA9PSAkdmFsID8gJzEnIDogJzAnKTsgJGJyZWFrOw0KCQkJCQkJY2FzZSAyIDogJHZhbCA9
ICgkYXJnc1swXSA9PSAkYXJnc1sxXSA/ICcxJyA6ICcwJyk7IGJyZWFrOw0KCQkJCQkJZGVm
YXVsdCA6ICR2YWwgPSBjb3VudChhcnJheV91bmlxdWUoJGFyZ3MpKTw9MSA/ICcxJyA6ICcw
JzsNCgkJCQkJfSBicmVhazsNCgkJCQkJY2FzZSAnPCcgOiBjYXNlICc+JyA6IGlmKCRoYXNf
YXJncyA+IDEpIHsNCgkJCQkJCSR2YWwgPSAoJGZ1bmMgPT09ICc8JyA/ICgkYXJnc1swXSA8
ICRhcmdzWzFdID8gJzEnIDogJzAnKSA6ICgkYXJnc1swXSA+ICRhcmdzWzFdID8gJzEnIDog
JzAnKSk7DQoJCQkJCX0gYnJlYWs7DQoJCQkJCWNhc2UgJ2RhdGUnIDogaWYoJGhhc19hcmdz
KSAkdmFsID0gZGF0ZSgkYXJnc1swXSwgc3RydG90aW1lKGlzc2V0KCRhcmdzWzFdKSA/ICRh
cmdzWzFdIDogJHZhbCkpOyBicmVhazsNCi8vCQkJCQljYXNlICdlc2NhcGUnIDogJHZhbCA9
IGRvU2xhc2goJHZhbCk7IGJyZWFrOw0KCQkJCQlkZWZhdWx0IDogJG5ld3ZhbCA9IGNhbGxf
dXNlcl9mdW5jX2FycmF5KCRmdW5jLCAkYXJncyk7DQoJCQkJCWlmKCEkcmVmKSAkdmFsID0g
JG5ld3ZhbDsNCgkJCQl9DQoJCQl9DQoJCQkkcmVzIC49ICR2YWw7IGJyZWFrOw0KDQoJCQlk
ZWZhdWx0IDogaWYoISRmbGF0KSB7DQoJCQkJJHZhbHVlID0gJyc7DQoJCQkJJGluZCA9IGlz
c2V0KCRldGNfcXVlcnlfc3BlY2lhbHNbJ3sjI30nXSkgPyAxIDogMDsNCgkJCQkkbm9kZXMg
PSAkZXRjX3F1ZXJ5X2NvbnRleHRbJ3hwYXRoJ10tPmV2YWx1YXRlKCRpbnRlcm5hbHMgPyBz
dHJ0cigkY29udGVudFsndmFsdWUnXVsncGF0aCddLCAkaW50ZXJuYWxzKSA6ICRjb250ZW50
Wyd2YWx1ZSddWydwYXRoJ10sICRlbGVtZW50KTsNCgkJCQlpZiAoISgkbm9kZXMgaW5zdGFu
Y2VvZiBET01Ob2RlTGlzdCkpICR2YWx1ZSA9ICRub2RlczsNCgkJCQllbHNlIGZvcmVhY2go
JG5vZGVzIGFzICRub2RlKQ0KCQkJCXsNCgkJCQkJaWYoJGluZCkgJGludGVybmFsc1sneyMj
fSddID0gJGluZCsrOw0KCQkJCQkkb3V0ID0gZW1wdHkoJGNvbnRlbnRbJ3ZhbHVlJ11bJ3Zh
bHVlJ10pID8gZmFsc2UgOiBldGNfcHJvY2Vzc19ub2RlKCRjb250ZW50Wyd2YWx1ZSddWyd2
YWx1ZSddLCAkbm9kZSwgJGludGVybmFscywgZmFsc2UpOw0KCQkJCQkkdmFsdWUgLj0gJG91
dCA/ICRvdXQgOiAoJGNvbnRlbnRbJ3ZhbHVlJ11bJ21vZGUnXSA9PT0gJz8nID8gJG5vZGUt
Pm5vZGVWYWx1ZSA6ICgkY29udGVudFsndmFsdWUnXVsnbW9kZSddID09PSAnIycgPyAkbm9k
ZS0+bm9kZU5hbWUgOiAoISRpc194bWwgPyAkZG9tLT5zYXZlSFRNTCgkbm9kZSkgOiAkZG9t
LT5zYXZlWE1MKCRub2RlKSkpKTsNCgkJCQl9DQoJCQkJaWYoJGNvbnRlbnRbJ3R5cGUnXSAh
PT0gJ2RlZmluZScpICRyZXMgLj0gJHZhbHVlOyBlbHNlICRkZWZpbmUgPSAkdmFsdWU7DQoJ
CQl9IGVsc2Ugey8vZmxhdA0KCQkJCSR2YWx1ZSA9ICRlbGVtZW50OyAkY2h1bms9Jyc7DQoJ
CQkJaWYoIWVtcHR5KCRjb250ZW50Wyd2YWx1ZSddWydhcnJheSddKSkgZm9yZWFjaCgkY29u
dGVudFsndmFsdWUnXVsnYXJyYXknXSBhcyAka2V5ID0+ICRjaHVuaykNCgkJCQl7DQoJCQkJ
CWlmKCRjaHVuayAhPT0gJyonKQ0KCQkJCQkJaWYoaXNzZXQoJHZhbHVlWyRjaHVua10pKSAk
dmFsdWUgPSAkdmFsdWVbJGNodW5rXTsNCgkJCQkJCWVsc2Uge3Vuc2V0KCRjaHVuayk7IGJy
ZWFrO30NCgkJCQkJZWxzZSB7DQoJCQkJCQkkcXVlcnkgPSBhcnJheShhcnJheSgndHlwZScg
PT4gJ3hwYXRoJywgJ3RleHQnID0+ICcnLCAndmFsdWUnID0+IGFycmF5KCdwYXRoJyA9PiAn
LicsICdtb2RlJyA9PiAnPycsICdhcnJheScgPT4gYXJyYXlfc2xpY2UoJGNvbnRlbnRbJ3Zh
bHVlJ11bJ2FycmF5J10sICRrZXkgKyAxKSwgJ3ZhbHVlJyA9PiAkY29udGVudFsndmFsdWUn
XVsndmFsdWUnXSkpKTsNCgkJCQkJCSRpbmQgPSBpc3NldCgkZXRjX3F1ZXJ5X3NwZWNpYWxz
Wyd7IyN9J10pID8gMSA6IDA7DQoJCQkJCQlmb3JlYWNoKCR2YWx1ZSBhcyAkayA9PiAkdmFs
KSB7DQoJCQkJCQkJaWYoaXNzZXQoJGV0Y19xdWVyeV9zcGVjaWFsc1sneyN9J10pKSAkaW50
ZXJuYWxzWyd7I30nXSA9ICRrOw0KCQkJCQkJCWlmKCRpbmQpICRpbnRlcm5hbHNbJ3sjI30n
XSA9ICRpbmQrKzsNCgkJCQkJCQkkbmV3cmVzID0gZXRjX2V2YWx1YXRlX3N0cmluZygkcXVl
cnksICR2YWwsICRpbnRlcm5hbHMsICRmbGF0KTsNCgkJCQkJCQlpZigkd3JhcCkgZm9yZWFj
aCgkbmV3cmVzIGFzICRyb3cpICRyZXNbXSA9ICRyb3c7DQoJCQkJCQkJZWxzZSAkcmVzIC49
ICRuZXdyZXM7DQoJCQkJCQl9DQoJCQkJCQl1bnNldCgkY2h1bmspOyBicmVhazsNCgkJCQkJ
fQ0KCQkJCX0NCgkJCQlpZihpc3NldCgkY2h1bmspKSB7DQoJCQkJCWlmKCFlbXB0eSgkY29u
dGVudFsndmFsdWUnXVsndmFsdWUnXSkpIGV0Y19wcm9jZXNzX25vZGUoJGNvbnRlbnRbJ3Zh
bHVlJ11bJ3ZhbHVlJ10sICR2YWx1ZSwgJGludGVybmFscyk7DQoJCQkJCWVsc2VpZighJHdy
YXApDQoJCQkJCQlpZihpc3NldCgkZXRjX3F1ZXJ5X3Nhbml0aXplWyRjaHVuay4nPyddKSkg
e2lmKCRldGNfcXVlcnlfc2FuaXRpemVbJGNodW5rLic/J10pICR2YWx1ZSA9ICRldGNfcXVl
cnlfc2FuaXRpemVbJGNodW5rLic/J10oJHZhbHVlKTt9DQoJCQkJCQllbHNlaWYoIWVtcHR5
KCRldGNfcXVlcnlfc2FuaXRpemVbJz8nXSkpICR2YWx1ZSA9ICRldGNfcXVlcnlfc2FuaXRp
emVbJz8nXSgkdmFsdWUpOw0KCQkJCQlpZigkY29udGVudFsndHlwZSddICE9PSAnZGVmaW5l
JykgaWYoJHdyYXApICRyZXNbXSA9ICR2YWx1ZTsgZWxzZSAkcmVzIC49ICR2YWx1ZTsNCgkJ
CQkJZWxzZSAkZGVmaW5lID0gJHZhbHVlOw0KCQkJCX0gZWxzZWlmKCRjb250ZW50Wyd0eXBl
J10gPT09ICdkZWZpbmUnKSAkdW5kZWZpbmVkID0gdHJ1ZTsNCgkJCX0NCgkJfQ0KCX0NCgly
ZXR1cm4gJHJlczsNCn0NCg0KZnVuY3Rpb24gZXRjX3Byb2Nlc3Nfbm9kZSgmJGF0dHIsICYk
bm9kZSwgJGludGVybmFscz1udWxsLCAkZmxhdD10cnVlLCAkcmVtb3ZlPWZhbHNlKSB7DQoJ
aWYoJGZsYXQpIHsNCgkJaWYoZW1wdHkoJGF0dHIpICYmICRyZW1vdmUpICRub2RlID0gbnVs
bDsNCgkJZWxzZSBmb3JlYWNoKCRhdHRyIGFzICR2YWwpIGlmKCR2YWxbJ2F0dHInXSA9PT0g
Jy4nIHx8ICR2YWxbJ2F0dHInXSA9PT0gJz8nKSB7DQoJCQlpZihpc3NldCgkaW50ZXJuYWxz
Wyd7P30nXSkpICRpbnRlcm5hbHNbJ3s/fSddID0gJG5vZGU7DQoJCQkkbm9kZSA9IGV0Y19l
dmFsdWF0ZV9zdHJpbmcoJHZhbFsndmFsdWUnXSwgJG5vZGUsICRpbnRlcm5hbHMsICRmbGF0
KTsNCgkJfQ0KCQlyZXR1cm47DQoJfQ0KDQoJZ2xvYmFsICRldGNfcXVlcnlfY29udGV4dDsN
Cg0KLy8JJHNlbGZfcGF0aCA9IGFycmF5KCcuJywgJz8nLCAnIycsICcrJywgJ14nLCAnJCcs
ICd+JywgJyYnLCAnLycpOw0KCSRpc19hdHRyID0gKCRub2RlLT5ub2RlVHlwZSA9PT0gWE1M
X0FUVFJJQlVURV9OT0RFKTsNCglpZihlbXB0eSgkYXR0cikgJiYgJHJlbW92ZSkgew0KCQlp
ZigkaXNfYXR0cikgJG5vZGUtPm93bmVyRWxlbWVudC0+cmVtb3ZlQXR0cmlidXRlTm9kZSgk
bm9kZSk7DQoJCWVsc2UgJG5vZGUtPnBhcmVudE5vZGUtPnJlbW92ZUNoaWxkKCRub2RlKTsN
Cgl9DQoJZWxzZSBmb3JlYWNoKCRhdHRyIGFzICR2YWwpIHsNCi8vCQl1bnNldCgkbmFtZSk7
DQoJCSRzZWxmID0gc3RycG9zKCcuPyMrXiR+Ji8nLCAkdmFsWydhdHRyJ10pICE9PSBmYWxz
ZTsvL2luX2FycmF5KCR2YWxbJ2F0dHInXSwgJHNlbGZfcGF0aCk7DQoJCWlmKCFpc3NldCgk
dmFsWyd2YWx1ZSddKSkge2lmKCEkc2VsZiAmJiAhJGlzX2F0dHIpICRub2RlLT5yZW1vdmVB
dHRyaWJ1dGUoJHZhbFsnYXR0ciddKTt9DQoJCWVsc2Ugew0KCQkJaWYoaXNzZXQoJGludGVy
bmFsc1snez99J10pKSAkaW50ZXJuYWxzWyd7P30nXSA9ICRzZWxmIHx8ICRpc19hdHRyID8g
JG5vZGUtPm5vZGVWYWx1ZSA6ICRub2RlLT5nZXRBdHRyaWJ1dGUoJHZhbFsnYXR0ciddKTsN
CgkJCWlmKGlzc2V0KCRpbnRlcm5hbHNbJ3sjfSddKSkgJGludGVybmFsc1sneyN9J10gPSAk
c2VsZiB8fCAkaXNfYXR0ciA/ICRub2RlLT5ub2RlTmFtZSA6ICR2YWxbJ2F0dHInXTsNCgkJ
CSR2YWx1ZSA9IGlzc2V0KCR2YWxbJ3ZhbHVlJ11bJ3RleHQnXSkgPyAkdmFsWyd2YWx1ZSdd
Wyd0ZXh0J10gOiBldGNfZXZhbHVhdGVfc3RyaW5nKCR2YWxbJ3ZhbHVlJ10sICRub2RlLCAk
aW50ZXJuYWxzLCAkZmxhdCk7DQoJCQlzd2l0Y2goJHZhbFsnYXR0ciddKSB7DQoJCQkJY2Fz
ZSAnJicgOiBpZighJHJlbW92ZSkgcmV0dXJuICR2YWx1ZTsNCgkJCQljYXNlICcuJyA6IGNh
c2UgJysnIDogY2FzZSAnXicgOiBjYXNlICckJyA6IGlmKCEkaXNfYXR0cikgew0KCQkJCQlp
ZihzdHJwb3MoJHZhbHVlLCAnPCcpID09PSBmYWxzZSkNCgkJCQkJCWlmKCR2YWxbJ2F0dHIn
XSAhPT0gJy4nKSAkZiA9ICRub2RlLT5vd25lckRvY3VtZW50LT5jcmVhdGVUZXh0Tm9kZSgk
dmFsdWUpOw0KCQkJCQkJZWxzZSB7JG5vZGUtPm5vZGVWYWx1ZSA9ICR2YWx1ZTsgYnJlYWs7
fQ0KCQkJCQllbHNlIHsNCgkJCQkJCSRlbmNvZGluZyA9ICRldGNfcXVlcnlfY29udGV4dFsn
ZW5jb2RpbmcnXTsNCgkJCQkJCSRpc194bWwgPSAkZXRjX3F1ZXJ5X2NvbnRleHRbJ3htbCdd
Ow0KCQkJCQkJaWYoISRpc194bWwpICR2YWx1ZSA9IHByZWdfcmVwbGFjZSgnLzwoKD86YXJl
YXxiYXNlfGJyfGNvbHxjb21tYW5kfGVtYmVkfGhyfGltZ3xpbnB1dHxrZXlnZW58bGlua3xt
ZXRhfHBhcmFtfHNvdXJjZXx0cmFja3x3YnIpXGJbXj5dKikoPzwhXC8pPi9pVScsICc8JDEg
Lz4nLCAkdmFsdWUpOw0KCQkJCQkJaWYoISRpc194bWwgJiYgc3RycG9zKCR2YWx1ZSwgJyYn
KSAhPT0gZmFsc2UpIHsNCgkJCQkJCQlpZighaXNzZXQoJGV0Y19xdWVyeV9jb250ZXh0Wydk
ZWNvZGUnXSkpICRldGNfcXVlcnlfY29udGV4dFsnZGVjb2RlJ10gPSBhcnJheV9mbGlwKGFy
cmF5X2RpZmYoZ2V0X2h0bWxfdHJhbnNsYXRpb25fdGFibGUoSFRNTF9FTlRJVElFUywgRU5U
X0NPTVBBVCwgJGVuY29kaW5nKSwgZ2V0X2h0bWxfdHJhbnNsYXRpb25fdGFibGUoSFRNTF9T
UEVDSUFMQ0hBUlMsIEVOVF9DT01QQVQsICRlbmNvZGluZykpKTsNCgkJCQkJCQkkdmFsdWUg
PSBzdHJ0cigkdmFsdWUsICRldGNfcXVlcnlfY29udGV4dFsnZGVjb2RlJ10pOw0KCQkJCQkJ
fQ0KCQkJCQkJJGYgPSAkbm9kZS0+b3duZXJEb2N1bWVudC0+Y3JlYXRlRG9jdW1lbnRGcmFn
bWVudCgpOw0KCQkJCQkJJGYtPmFwcGVuZFhNTCgkdmFsdWUpOw0KCQkJCQl9DQoJCQkJCWlm
KCR2YWxbJ2F0dHInXSA9PT0gJy4nKSAkbm9kZS0+bm9kZVZhbHVlID0gbnVsbDsNCgkJCQkJ
aWYoJHZhbFsnYXR0ciddID09PSAnJicpICRub2RlLT5wYXJlbnROb2RlLT5yZXBsYWNlQ2hp
bGQoJGYsICRub2RlKTsNCgkJCQkJZWxzZWlmKCR2YWxbJ2F0dHInXSA9PT0gJ14nKSAkbm9k
ZS0+cGFyZW50Tm9kZS0+aW5zZXJ0QmVmb3JlKCRmLCAkbm9kZSk7DQoJCQkJCWVsc2VpZigk
dmFsWydhdHRyJ10gPT09ICckJykNCgkJCQkJCWlmKCRub2RlLT5uZXh0U2libGluZykgJG5v
ZGUtPnBhcmVudE5vZGUtPmluc2VydEJlZm9yZSgkZiwgJG5vZGUtPm5leHRTaWJsaW5nKTsN
CgkJCQkJCWVsc2UgJG5vZGUtPnBhcmVudE5vZGUtPmFwcGVuZENoaWxkKCRmKTsNCgkJCQkJ
ZWxzZSAkbm9kZS0+YXBwZW5kQ2hpbGQoJGYpOyBicmVhazsNCgkJCQl9DQoNCgkJCQljYXNl
ICc/JyA6ICR2YWx1ZSA9IGh0bWxzcGVjaWFsY2hhcnMoJHZhbHVlLCBFTlRfQ09NUEFULCAk
ZXRjX3F1ZXJ5X2NvbnRleHRbJ2VuY29kaW5nJ10sIGZhbHNlKTsNCgkJCQkkbm9kZS0+bm9k
ZVZhbHVlID0gJHZhbFsnYXR0ciddID09PSAnKycgfHwgJHZhbFsnYXR0ciddID09PSAnJCcg
PyAkbm9kZS0+bm9kZVZhbHVlLiR2YWx1ZSA6ICgkdmFsWydhdHRyJ10gPT09ICdeJyA/ICR2
YWx1ZS4kbm9kZS0+bm9kZVZhbHVlIDogJHZhbHVlKTsNCgkJCQlicmVhazsNCg0KCQkJCWNh
c2UgJ34nIDogY2FzZSAnLycgOg0KCQkJCSRub2RlcyA9ICRldGNfcXVlcnlfY29udGV4dFsn
eHBhdGgnXS0+ZXZhbHVhdGUoJHZhbHVlLCAkbm9kZSk7DQoJCQkJaWYgKCRub2RlcyBpbnN0
YW5jZW9mIERPTU5vZGVMaXN0KSBmb3JlYWNoKCRub2RlcyBhcyAkZWxlbWVudCkNCgkJCQkJ
aWYoISRpc19hdHRyKSB7DQoJCQkJCQlpZigkdmFsWydhdHRyJ10gPT09ICd+JykgJGVsZW1l
bnQtPnBhcmVudE5vZGUtPmluc2VydEJlZm9yZSgkbm9kZSwgJGVsZW1lbnQpOw0KCQkJCQkJ
ZWxzZSAkZWxlbWVudC0+YXBwZW5kQ2hpbGQoJG5vZGUpOw0KCQkJCQl9IGVsc2UgJGVsZW1l
bnQtPnNldEF0dHJpYnV0ZU5vZGUoJG5vZGUpOw0KCQkJCWJyZWFrOw0KDQoJCQkJY2FzZSAn
IycgOiBpZigkaXNfYXR0ciAmJiAkdmFsdWUgIT0gJG5vZGUtPm5hbWUpIHsNCgkJCQkJJG5v
ZGUtPm93bmVyRWxlbWVudC0+c2V0QXR0cmlidXRlKCR2YWx1ZSwgJG5vZGUtPnZhbHVlKTsN
CgkJCQkJJG5vZGUtPm93bmVyRWxlbWVudC0+cmVtb3ZlQXR0cmlidXRlTm9kZSgkbm9kZSk7
DQoJCQkJfSBicmVhazsNCg0KCQkJCWRlZmF1bHQgOiBpZighJGlzX2F0dHIpICRub2RlLT5z
ZXRBdHRyaWJ1dGUoJHZhbFsnYXR0ciddLCAkdmFsdWUpOw0KCQkJfQ0KCQl9DQoJfQ0KfQ0K
DQovKioqKioqKioqKioqKioqIE1JU0MgKioqKioqKioqKioqKioqKioqKioqKi8NCg0KZnVu
Y3Rpb24gZXRjX2NyZWF0ZV9lbGVtZW50KCRuYW1lLCAmJHZhbHVlLCAmJGRvYykgew0KCWlm
KGVtcHR5KCRuYW1lKSB8fCBpc19udW1lcmljKCRuYW1lKSkgeyRhdHRyID0gJG5hbWU7ICRu
YW1lID0gJ3Jvdyc7fQ0KCWVsc2UgdW5zZXQoJGF0dHIpOw0KCWlmKCFpc19hcnJheSgkdmFs
dWUpICYmICFpc19vYmplY3QoJHZhbHVlKSkgew0KCQkkdmFsdWUgPSAoc3RyaW5nKSR2YWx1
ZTsNCgkJaWYoc3RycG9zKCR2YWx1ZSwgJyYnKSAhPT0gZmFsc2UpICR2YWx1ZSA9IHByZWdf
cmVwbGFjZSgnLyYoIz9cdytcYig/ITspfCg/IVsjXHddKSkvJywgJyZhbXA7JDEnLCAkdmFs
dWUpOw0KCQkkZWxlbWVudCA9ICRkb2MtPmNyZWF0ZUVsZW1lbnQoJG5hbWUsICR2YWx1ZSk7
DQovKgkJJGVsZW1lbnQgPSAkZG9jLT5jcmVhdGVFbGVtZW50KCRuYW1lKTsNCgkJJGVsZW1l
bnQtPmFwcGVuZENoaWxkKCRkb2MtPmNyZWF0ZVRleHROb2RlKChzdHJpbmcpJHZhbHVlKSk7
DQoqLwl9DQoJZWxzZSB7DQoJCSRlbGVtZW50ID0gJGRvYy0+Y3JlYXRlRWxlbWVudCgkbmFt
ZSk7DQoJCWZvcmVhY2goJHZhbHVlIGFzICRrZXk9PiR2YWwpICRlbGVtZW50LT5hcHBlbmRD
aGlsZChldGNfY3JlYXRlX2VsZW1lbnQoJGtleSwgJHZhbCwgJGRvYykpOw0KCX0NCglpZihp
c3NldCgkYXR0cikpICRlbGVtZW50LT5zZXRBdHRyaWJ1dGUoJ2luZGV4JywgJGF0dHIpOw0K
CXJldHVybiAkZWxlbWVudDsNCn0NCg0KZnVuY3Rpb24gZXRjX3F1ZXJ5X2ltcG9ydCgmJGRh
dGEsICRtYXJrdXBzLCAkcGFyYW1zID0gYXJyYXkoJ3VybCcgPT4gJycsICdwb3B1bGF0ZScg
PT4gJycsICdwaHAnID0+IGZhbHNlKSkgew0KCWlmIChlbXB0eSgkbWFya3VwcykgfHwgIWlz
X3NjYWxhcigkZGF0YSkpIHJldHVybiB0cnVlOw0KCWV4dHJhY3QoJHBhcmFtcyk7DQoJJG1h
cmt1cCA9IGFycmF5X3NoaWZ0KCRtYXJrdXBzKTsNCglsaXN0KCRtYXJrdXAsICRwZngpID0g
ZXhwbG9kZSgnOicsICRtYXJrdXAsIDIpICsgYXJyYXkobnVsbCwgbnVsbCk7DQoJaWYoJG1h
cmt1cCA9PT0gJ2pzb24nKSBpZihwcmVnX21hdGNoKCcvXlxbKFwtP1x3KylcLlwuKFwtP1x3
Kyk6PyhbXCtcLV0/KShcZCopXF0kLycsICRkYXRhLCAkbWF0Y2hlcykpIHN3aXRjaCgkbWF0
Y2hlc1szXSkgew0KCQljYXNlICcrJyA6IGlmKCRtYXRjaGVzWzFdIDw9ICRtYXRjaGVzWzJd
KSAkZGF0YSA9IHJhbmdlKCRtYXRjaGVzWzFdLCAkbWF0Y2hlc1syXSwgJG1hdGNoZXNbNF0g
PyAkbWF0Y2hlc1s0XSA6IDEpOyBlbHNlICRkYXRhID0gbnVsbDsgYnJlYWs7DQoJCWNhc2Ug
Jy0nIDogaWYoJG1hdGNoZXNbMV0gPj0gJG1hdGNoZXNbMl0pICRkYXRhID0gcmFuZ2UoJG1h
dGNoZXNbMV0sICRtYXRjaGVzWzJdLCAkbWF0Y2hlc1s0XSA/ICRtYXRjaGVzWzRdIDogMSk7
IGVsc2UgJGRhdGEgPSBudWxsOyBicmVhazsNCgkJZGVmYXVsdCA6ICRkYXRhID0gcmFuZ2Uo
JG1hdGNoZXNbMV0sICRtYXRjaGVzWzJdLCAkbWF0Y2hlc1s0XSA/ICRtYXRjaGVzWzRdIDog
MSk7DQoJfSBlbHNlICRkYXRhID0ganNvbl9kZWNvZGUoJGRhdGEsIHRydWUpOyAvL2FycmF5
DQoJZWxzZWlmKCRtYXJrdXAgPT09ICdhcnJheScpICRkYXRhID0gdW5zZXJpYWxpemUoJGRh
dGEpOw0KCWVsc2VpZigkbWFya3VwID09PSAnaW5pJykgJGRhdGEgPSBwYXJzZV9pbmlfc3Ry
aW5nKCRkYXRhLCAhaXNzZXQoJHBmeCkgfHwgJHBmeCk7DQoJZWxzZWlmKCRtYXJrdXAgPT09
ICdsaXN0JykNCgkJJGRhdGEgPSBhcnJheV9maWx0ZXIoZG9fbGlzdCgkZGF0YSwgaXNzZXQo
JHBmeCkgPyAkcGZ4IDogJywnKSwgZnVuY3Rpb24oJGEpIHtyZXR1cm4gKHN0cmluZykkYSAh
PT0gJyc7fSk7DQoJZWxzZWlmKCRtYXJrdXAgPT09ICdkYicvKiAmJiAkZGF0YSovKSB7DQoJ
CWlmKCEkcGhwKSByZXR1cm4gZmFsc2U7DQoJCWdsb2JhbCAkREI7DQoJCWlmKHN0cnRvbG93
ZXIoc3Vic3RyKCRkYXRhLCAwLCA3KSkgIT09ICdzZWxlY3QgJykgew0KCQkJc3dpdGNoKCRw
b3B1bGF0ZSkgew0KCQkJCWNhc2UgJ2ZpbGUnIDogJGZpZWxkcyA9ICcqJzsgJGZpbHRlciA9
IHNhZmVfcGZ4KCRwb3B1bGF0ZSkuIiBXSEVSRSBzdGF0dXMgPj0gNCBBTkQgJGRhdGEiOyBi
cmVhazsNCgkJCQljYXNlICdpbWFnZScgOiBjYXNlICdsaW5rJyA6ICRmaWVsZHMgPSAnKic7
ICRmaWx0ZXIgPSBzYWZlX3BmeCgkcG9wdWxhdGUpLicgV0hFUkUgJy4kZGF0YTsgYnJlYWs7
DQoJCQkJZGVmYXVsdCA6ICRmaWVsZHMgPSAnKiwgdW5peF90aW1lc3RhbXAoUG9zdGVkKSBh
cyB1UG9zdGVkLCB1bml4X3RpbWVzdGFtcChFeHBpcmVzKSBhcyB1RXhwaXJlcywgdW5peF90
aW1lc3RhbXAoTGFzdE1vZCkgYXMgdUxhc3RNb2QnOw0KCQkJCSRub3dfcG9zdGVkID0gbm93
KCdwb3N0ZWQnKTsgJG5vd19leHBpcmVzID0gbm93KCdleHBpcmVzJyk7DQoJCQkJJGZpbHRl
ciA9IHNhZmVfcGZ4KCd0ZXh0cGF0dGVybicpLiIgV0hFUkUgU3RhdHVzID49IDQgQU5EIFBv
c3RlZCA8PSAkbm93X3Bvc3RlZCBBTkQgKEV4cGlyZXMgSVMgTlVMTCBPUiBFeHBpcmVzID49
ICRub3dfZXhwaXJlcykgQU5EICRkYXRhIjsNCgkJCQkvL2lmKGVtcHR5KCRwZngpKSAkcGZ4
ID0gJ2FydGljbGUnOw0KCQkJfQ0KCQkJJGRhdGEgPSAiU0VMRUNUICRmaWVsZHMgRlJPTSAk
ZmlsdGVyIjsNCgkJfQ0KCQkkdXJsIGFuZCBteXNxbGlfc2VsZWN0X2RiKCREQi0+bGluaywg
JHVybCk7DQoJCSRkYXRhID0gZ2V0Um93cygkZGF0YSk7DQoJCSR1cmwgYW5kIG15c3FsaV9z
ZWxlY3RfZGIoJERCLT5saW5rLCAkREItPmRiKTsNCgl9DQoJJHJlcyA9IHRydWU7DQoJaWYg
KCRtYXJrdXBzICYmIGlzX2FycmF5KCRkYXRhKSkgZm9yZWFjaCgkZGF0YSBhcyAmJGNodW5r
KSAkcmVzID0gJHJlcyAmJiBldGNfcXVlcnlfaW1wb3J0KCRjaHVuaywgJG1hcmt1cHMsICRw
YXJhbXMpOw0KCXJldHVybiAkcmVzOw0KfQ0KDQpmdW5jdGlvbiBldGNfY2xlYW51cCgkb3V0
ID0gbnVsbCwgJHNhZmVfY29udGV4dCA9IG51bGwsICRzYWZlX2dsb2JhbHMgPSBudWxsLCAk
c2FmZV9zYW5pdGl6ZSA9IG51bGwsICRzYWZlX3NwZWNpYWxzID0gbnVsbCkgew0KCWdsb2Jh
bCAkZXRjX3F1ZXJ5X2NvbnRleHQsICRldGNfcXVlcnlfZ2xvYmFscywgJGV0Y19xdWVyeV9z
YW5pdGl6ZSwgJGV0Y19xdWVyeV9zcGVjaWFsczsNCgkkZXRjX3F1ZXJ5X2NvbnRleHQgPSAk
c2FmZV9jb250ZXh0Ow0KCSRldGNfcXVlcnlfZ2xvYmFscyA9ICRzYWZlX2dsb2JhbHM7DQoJ
JGV0Y19xdWVyeV9zYW5pdGl6ZSA9ICRzYWZlX3Nhbml0aXplOw0KCSRldGNfcXVlcnlfc3Bl
Y2lhbHMgPSAkc2FmZV9zcGVjaWFsczsNCglyZXR1cm4oJG91dCk7DQp9DQoNCmZ1bmN0aW9u
IGV0Y19xdWVyeV9zb3J0KCYkZGF0YSwgJHNvcnQpIHsNCglwcmVnX21hdGNoKCcvXiguKiko
PzpcXFsoLiopXFxdKT8kL1UnLCAkc29ydCwgJG1hdGNoZXMpOw0KCWxpc3QoJHNvcnQsICRw
YXRoLCAkZmllbGRzKSA9ICRtYXRjaGVzICsgYXJyYXkobnVsbCwgbnVsbCwgJycpOw0KCSRw
YXRoID0gZG9fbGlzdCgkcGF0aCwgJy8nKTsNCgkkaXRlbSA9ICYkZGF0YTsNCgl3aGlsZSgk
cGF0aCAmJiBpc3NldCgkaXRlbVskY2h1bmsgPSBhcnJheV9zaGlmdCgkcGF0aCldKSAmJiAk
Y2h1bmsgIT09ICcnICYmICRjaHVuayAhPT0gJyonKSAkaXRlbSA9ICYkaXRlbVskY2h1bmtd
Ow0KCSRrZXlzID0gYXJyYXkoKTsNCglpZiAoJGNodW5rID09ICcqJykgew0KCQlmb3JlYWNo
KCRpdGVtIGFzICYkbm9kZSkgZXRjX3F1ZXJ5X3NvcnQoJG5vZGUsIGltcGxvZGUoJy8nLCAk
cGF0aCkuIlt7JGZpZWxkc31dIik7DQoJfSBlbHNlIGZvcmVhY2ggKGRvX2xpc3QoJGZpZWxk
cywgJ3wnKSBhcyAkZmllbGQpIHsNCgkJbGlzdCgkZmllbGQsICRkaXIsICRjbXApID0gcHJl
Z19zcGxpdCgnLyhbPD5dKS8nLCAkZmllbGQsIG51bGwsIFBSRUdfU1BMSVRfREVMSU1fQ0FQ
VFVSRSkgKyBhcnJheSgnJywgJzwnLCAnJyk7DQoJCSRmbGFnID0gKHN0cnBvcygkY21wLCAn
bmF0JykgPT09IGZhbHNlID8gU09SVF9TVFJJTkcgOiBTT1JUX05BVFVSQUwpfChzdHJwb3Mo
JGNtcCwgJ2Nhc2UnKSA9PT0gZmFsc2UgPyAwIDogU09SVF9GTEFHX0NBU0UpOw0KCQlpZiAo
dHJpbSgkZmllbGQpID09PSAnJykgJGRpciA9PSAnPCcgPyBhc29ydCgkaXRlbSwgJGZsYWcp
IDogYXJzb3J0KCRpdGVtLCAkZmxhZyk7DQoJCWVsc2UgJGtleXNbXSA9IGFycmF5KCdmaWVs
ZCcgPT4gZXhwbG9kZSgnLycsICRmaWVsZCksICdkaXInID0+ICRkaXIsICdjbXAnID0+ICdz
dHInLiRjbXAuJ2NtcCcpOw0KCX0NCglpZiAoJGtleXMpIHVhc29ydCgkaXRlbSwgZXRjX3F1
ZXJ5X2NtcCgka2V5cykpOw0KfQ0KDQpmdW5jdGlvbiBldGNfcXVlcnlfY21wKCRrZXlzID0g
YXJyYXkoKSkge3JldHVybiBmdW5jdGlvbigkYSwgJGIpIHVzZSAoJGtleXMpIHsNCglmb3Jl
YWNoICgka2V5cyBhcyAka2V5KSB7DQoJCSRhYSA9ICRhOyAkYmIgPSAkYjsNCgkJZm9yZWFj
aCAoJGtleVsnZmllbGQnXSBhcyAkcGF0aCkgew0KCQkJJGFhID0gaXNzZXQoJGFhWyRwYXRo
XSkgPyAkYWFbJHBhdGhdIDogbnVsbDsNCgkJCSRiYiA9IGlzc2V0KCRiYlskcGF0aF0pID8g
JGJiWyRwYXRoXSA6IG51bGw7DQoJCX0NCgkJJHJlcyA9ICRrZXlbJ2NtcCddKGlzX3NjYWxh
cigkYWEpID8gJGFhIDogbnVsbCwgaXNfc2NhbGFyKCRiYikgPyAkYmIgOiBudWxsKTsNCgkJ
JGtleVsnZGlyJ10gPT0gJzwnIG9yICRyZXMgPSAtJHJlczsNCgkJaWYgKCRyZXMpIGJyZWFr
Ow0KCX0NCglyZXR1cm4gaXNzZXQoJHJlcykgPyAkcmVzIDogJGtleVsnY21wJ10oaXNfc2Nh
bGFyKCRhKSA/ICRhIDogbnVsbCwgaXNfc2NhbGFyKCRiKSA/ICRiIDogbnVsbCk7DQp9O30N
Cg0KZnVuY3Rpb24gZXRjX3F1ZXJ5X3JlZHVjZSgkYXJyYXkpDQp7DQoJaWYgKGlzX3NjYWxh
cigkYXJyYXkpKSByZXR1cm4gJGFycmF5Ow0KCSRyZXMgPSAnJzsNCglmb3JlYWNoKCRhcnJh
eSBhcyAkZWx0KSAkcmVzIC49IGV0Y19xdWVyeV9yZWR1Y2UoJGVsdCk7DQoJcmV0dXJuICRy
ZXM7DQp9DQoNCmlmKCFkZWZpbmVkKCdFVENfUFJFR19TUEVDJykpIGRlZmluZSgnRVRDX1BS
RUdfU1BFQycsICcvKD88IVx7KShce1s/IV0oPz5bXnt9XXwoPzEpKStcfSkvVScpOyI7czo0
OiJ0eXBlIjtzOjE6IjAiO3M6NToib3JkZXIiO3M6MToiNSI7czo1OiJmbGFncyI7czoxOiIw
IjtzOjQ6ImhlbHAiO3M6MDoiIjtzOjM6Im1kNSI7czozMjoiZThjZjBjYjNjZGQ0NWE5YmQz
MDYwZGZhODc4NjI3NDUiO30=
